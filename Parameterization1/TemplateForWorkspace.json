{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"workspaceName": {
			"type": "string",
			"metadata": "Workspace name",
			"defaultValue": "phipswdevuks01"
		},
		"phipswdevuks01-WorkspaceDefaultSqlServer_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'phipswdevuks01-WorkspaceDefaultSqlServer'"
		},
		"CMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_ActivityParty_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_ActivityParty_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_ActivityPointer_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_ActivityPointer_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_AttributeMap_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_AttributeMap_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_AttributeMap_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Attribute_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Attribute_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Attribute_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_CallCloseContacts_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_CallCloseContacts_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_CallCloseContacts_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_CallOne_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_CallOne_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_CallOne_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_CloseContact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_CloseContact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_CloseContact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_CollectCloseContactCall_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_CollectCloseContactCall_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_CollectCloseContactCall_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Contact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Contact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Contact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_CustomerAddress_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_CustomerAddress_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_CustomerAddress_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_ExternalContact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_ExternalContact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_ExternalContact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_IncidentContact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_IncidentContact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_IncidentContact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_IncidentResolution_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_IncidentResolution_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Incident_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Incident_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Incident_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Location_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Location_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Location_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Organization_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Organization_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Organization_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_Owner_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Owner_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Owner_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_SystemUser_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_SystemUser_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_SystemUser_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_TestResultsContact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_TestResultsContact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_TestResultsContact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_TracerPhoneCall_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_TracerPhoneCall_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"CMS_TracerPhonecall_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Workplace_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsContactTracing"
		},
		"CMS_Workplace_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"CMS_Workplace_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"VMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsVMS"
		},
		"VMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsVMS"
		},
		"VMS_Contact_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsVMS"
		},
		"VMS_Contact_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"VMS_Contact_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"VMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsVMS"
		},
		"VMS_PatientVaccinationRecord_Dyn_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "DynamicsVMS"
		},
		"VMS_PatientVaccinationRecord_Lake_properties_linkedServiceName_referenceName": {
			"type": "string",
			"defaultValue": "phipswdevuks01-WorkspaceDefaultStorage"
		},
		"VMS_PatientVaccinationRecord_Lake_properties_typeProperties_location_fileSystem": {
			"type": "string",
			"defaultValue": "hscstorphipdevuks01-dl-gen2-filesystem"
		},
		"AzureKeyVaultSynapseDefault_properties_parameters_env_defaultValue": {
			"type": "string",
			"defaultValue": "uat"
		},
		"AzureKeyVaultSynapseDefault_properties_typeProperties_baseUrl": {
			"type": "string",
			"defaultValue": "https://phipco@{linkedService().env}.vault.azure.net/"
		},
		"DynamicsContactTracing_properties_typeProperties_serviceUri": {
			"type": "string",
			"defaultValue": "https://covid-hscni-uat.crm11.dynamics.com"
		},
		"DynamicsContactTracing_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "e2cf27b4-c1b9-49ad-8a2e-cea3db50db04"
		},
		"DynamicsContactTracing_properties_typeProperties_servicePrincipalCredential_secretName": {
			"type": "string",
			"defaultValue": "dynamics-ct-client-secret"
		},
		"DynamicsVMS_properties_typeProperties_serviceUri": {
			"type": "string",
			"defaultValue": "https://hscnivacuat02.crm11.dynamics.com"
		},
		"DynamicsVMS_properties_typeProperties_servicePrincipalId": {
			"type": "string",
			"defaultValue": "4e60487f-5028-4e9b-8cf7-004c09b72e8a"
		},
		"DynamicsVMS_properties_typeProperties_servicePrincipalCredential_secretName": {
			"type": "string",
			"defaultValue": "dynamics-vms-client-secret"
		},
		"PowerBIWorkspace_properties_typeProperties_workspaceID": {
			"type": "string"
		},
		"PowerBIWorkspace_properties_typeProperties_tenantID": {
			"type": "string",
			"defaultValue": "9c9a30de-d8d7-4aa4-9600-4be7625ff6c5"
		},
		"phipswdevuks01-WorkspaceDefaultSqlServer_name": {
			"type": "string",
			"defaultValue": "[concat(parameters('workspaceName'), '/phipswdevuks01-WorkspaceDefaultSqlServer')]"
		},
		"phipswdevuks01-WorkspaceDefaultStorage_name": {
			"type": "string",
			"defaultValue": "[concat(parameters('workspaceName'), '/phipswdevuks01-WorkspaceDefaultStorage')]"
		},
		"phipswdevuks01-WorkspaceDefaultStorage_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://hscstorphipdevuks01.dfs.core.windows.net"
		}
	},
	"variables": {
		"workspaceId": "[concat('Microsoft.Synapse/workspaces/', parameters('workspaceName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_DataLakeV2_SQLDW_Pipeline')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"activities": [
					{
						"name": "CMS_CollectCloseContactsCall_Load",
						"description": "CMS CollectCloseContactsCall from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_CollectCloseContactCall_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CollectCloseContactCall_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "SQL_SP_Initialize_RAW_Tables",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_Initialize_Data_Raw_Tables]"
						}
					},
					{
						"name": "CMS_CallCloseContacts_Load",
						"description": "CMS CallCloseContacts from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_CallCloseContacts_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CallCloseContacts_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Location_Load",
						"description": "CMS Location from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Location_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Location_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Workplace_Load",
						"description": "CMS Workplace from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Workplace_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Workplace_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Incident_Load",
						"description": "CMS Incident from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Incident_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Incident_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Contact_Load",
						"description": "CMS Contact from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Contact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Contact_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Location_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_InitializeAndPopulate_Location_Table]"
						}
					},
					{
						"name": "CMS_Workplace_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_InitializeAndPopulate_Workplace_Table]"
						}
					},
					{
						"name": "CMS_CloseContactCalls_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_InitializeAndPopulate_CloseContactCalls_Table]"
						}
					},
					{
						"name": "CMS_CollectContactCalls_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_InitializeAndPopulate_CollectCloseContactCalls_Table]"
						}
					},
					{
						"name": "CMS_Cases_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_InitializeAndPopulate_Cases_Table]"
						}
					},
					{
						"name": "CMS_ActivityParty_Load",
						"description": "CMS ActivityParty from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_ActivityParty_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_ActivityParty_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_ActivityPointer_Load",
						"description": "CMS ActivityPointer from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_ActivityPointer_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_ActivityPointer_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CallOne_Load",
						"description": "CMS CallOne from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_CallOne_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CallOne_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CloseContact_Load",
						"description": "CMS CloseContact from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_CloseContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CloseContact_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CustomerAddress_Load",
						"description": "CMS CustomerAddress from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_CustomerAddress_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CustomerAddress_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_IncidentContact_Load",
						"description": "CMS IncidentContact from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_IncidentContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_IncidentContact_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_IncidentResolution_Load",
						"description": "CMS IncidentResolution from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_IncidentResolution_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_IncidentResolution_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Organization_Load",
						"description": "CMS Organization from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Organization_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Organization_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Owner_Load",
						"description": "CMS Owner from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_Owner_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Owner_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_SystemUser_Load",
						"description": "CMS SystemUser from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_SystemUser_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_SystemUser_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_TestResultsContact_Load",
						"description": "CMS TestResultsContact from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_TestResultsContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_TestResultsContact_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_TracerPhoneCall_Load",
						"description": "CMS TracerPhoneCall from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "CMS_TracerPhoneCall_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_TracerPhoneCall_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "SQL_SP_CreateIndex_RAW_Tables",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "CMS_Location_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_ActivityParty_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_ActivityPointer_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_CallOne_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_CloseContact_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_CustomerAddress_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_IncidentContact_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_IncidentResolution_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_Organization_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_Owner_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_SystemUser_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_TestResultsContact_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_TracerPhoneCall_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_Workplace_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_CollectCloseContactsCall_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_CallCloseContacts_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_Incident_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "CMS_Contact_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[CMS_CreateIndex_Data_Raw_Tables]"
						}
					}
				],
				"folder": {
					"name": "CMS"
				},
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/datasets/CMS_CollectCloseContactCall_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CollectCloseContactCall_SQL')]",
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallCloseContacts_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallCloseContacts_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Location_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Location_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Workplace_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Workplace_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Incident_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Incident_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Contact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Contact_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityParty_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityParty_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityPointer_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityPointer_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallOne_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallOne_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CloseContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CloseContact_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CustomerAddress_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CustomerAddress_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentContact_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentResolution_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentResolution_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Organization_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Organization_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Owner_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Owner_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_SystemUser_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_SystemUser_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TestResultsContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TestResultsContact_SQL')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TracerPhoneCall_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TracerPhoneCall_SQL')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Dynamics_DataLakeV2_Pipeline')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Run dataflow with Explicit copy to ingest copy source",
				"activities": [
					{
						"name": "CMS_CallCloseContacts_Ingest",
						"description": "Ingest data from CMS CallCloseContacts to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_CallCloseContacts_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CallCloseContacts_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Location_Ingest",
						"description": "Ingest data from CMS new_Location to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Location_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Location_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Incident_Ingest",
						"description": "Ingest data from CMS Incident to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Incident_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Incident_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Workplace_Ingest",
						"description": "Ingest data from CMS new_Workplace to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Workplace_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Workplace_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Contact_Ingest",
						"description": "Ingest data from CMS Conact to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Contact_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Contact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CollectCloseContactsCall_Ingest",
						"description": "Ingest data from CMS CollectCloseContactsCall to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_CollectCloseContactCall_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CollectCloseContactCall_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_ActivityParty_Ingest",
						"description": "Ingest data from CMS ActivityParty to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_ActivityParty_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_ActivityParty_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_ActivityPointer_Ingest",
						"description": "Ingest data from CMS ActivityPointer to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_ActivityPointer_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_ActivityPointer_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CallOne_Ingest",
						"description": "Ingest data from CMS CallOne to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_CallOne_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CallOne_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CloseContact_Ingest",
						"description": "Ingest data from CMS CloseContact to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_CloseContact_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CloseContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_CustomerAddress_Ingest",
						"description": "Ingest data from CMS CustomerAddress to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_CustomerAddress_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_CustomerAddress_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_IncidentContact_Ingest",
						"description": "Ingest data from CMS IncidentContact to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_IncidentContact_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_IncidentContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_IncidentResolution_Ingest",
						"description": "Ingest data from CMS IncidentResolution to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_IncidentResolution_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_IncidentResolution_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Organization_Ingest",
						"description": "Ingest data from CMS Organization to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Organization_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Organization_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_Owner_Ingest",
						"description": "Ingest data from CMS Owner to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_Owner_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_Owner_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_SystemUser_Ingest",
						"description": "Ingest data from CMS SystemUser to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_SystemUser_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_SystemUser_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_TestResultsContact_Ingest",
						"description": "Ingest data from CMS TestResultsContact to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_TestResultsContact_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_TestResultsContact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "CMS_TracerPhoneCall_Ingest",
						"description": "Ingest data from CMS TracerPhoneCall to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "CMS_TracerPhonecall_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "CMS_TracerPhoneCall_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					}
				],
				"folder": {
					"name": "CMS"
				},
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/datasets/CMS_CallCloseContacts_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallCloseContacts_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Location_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Location_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Incident_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Incident_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Workplace_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Workplace_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Contact_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Contact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CollectCloseContactCall_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CollectCloseContactCall_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityParty_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityParty_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityPointer_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_ActivityPointer_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallOne_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CallOne_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CloseContact_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CloseContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CustomerAddress_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_CustomerAddress_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentContact_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentResolution_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_IncidentResolution_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Organization_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Organization_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Owner_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_Owner_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_SystemUser_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_SystemUser_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TestResultsContact_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TestResultsContact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TracerPhonecall_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/CMS_TracerPhoneCall_Lake')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/Dynamics CMS')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"activities": [
					{
						"name": "Pipeline_CMS_Dynamics_Lake",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "CMS_Dynamics_DataLakeV2_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Pipeline_CMS_Lake_SQLDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Pipeline_CMS_Dynamics_Lake",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "CMS_DataLakeV2_SQLDW_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/pipelines/CMS_Dynamics_DataLakeV2_Pipeline')]",
				"[concat(variables('workspaceId'), '/pipelines/CMS_DataLakeV2_SQLDW_Pipeline')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/Dynamics VMS')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"activities": [
					{
						"name": "Pipeline_VMS_Dynamics_Lake",
						"type": "ExecutePipeline",
						"dependsOn": [],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "VMS_Dynamics_DataLakeV2_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					},
					{
						"name": "Pipeline_VMS_Lake_SQLDW",
						"type": "ExecutePipeline",
						"dependsOn": [
							{
								"activity": "Pipeline_VMS_Dynamics_Lake",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"userProperties": [],
						"typeProperties": {
							"pipeline": {
								"referenceName": "VMS_DataLakeV2_SQLDW_Pipeline",
								"type": "PipelineReference"
							},
							"waitOnCompletion": true,
							"parameters": {}
						}
					}
				],
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/pipelines/VMS_Dynamics_DataLakeV2_Pipeline')]",
				"[concat(variables('workspaceId'), '/pipelines/VMS_DataLakeV2_SQLDW_Pipeline')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_DataLakeV2_SQLDW_Pipeline')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"activities": [
					{
						"name": "VMS_PatientVaccinationRecord_Load",
						"description": "VMS PatientVaccinationRecord from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "VMS_PatientVaccinationRecord_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "VMS_PatientVaccinationRecord_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "SQL_SP_Initialize_RAW_Tables",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[VMS_Initialize_Data_Raw_Tables]"
						}
					},
					{
						"name": "VMS_Contact_Load",
						"description": "VMS Contact from Lake to SQL DW RAW table.",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "SQL_SP_Initialize_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DelimitedTextSource",
								"storeSettings": {
									"type": "AzureBlobFSReadSettings",
									"recursive": true,
									"enablePartitionDiscovery": false
								},
								"formatSettings": {
									"type": "DelimitedTextReadSettings"
								}
							},
							"sink": {
								"type": "SqlPoolSink",
								"tableOption": "autoCreate"
							},
							"enableStaging": false,
							"translator": {
								"type": "TabularTranslator",
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "VMS_Contact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "VMS_Contact_SQL",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "VMS_PatientVaccinationRecord_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "dbo.VMS_InitializeAndPopulate_PVR_Table"
						}
					},
					{
						"name": "VMS_Patient_Upsert",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "SQL_SP_CreateIndex_RAW_Tables",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "dbo.VMS_InitializeAndPopulate_Patient_Table"
						}
					},
					{
						"name": "SQL_SP_CreateIndex_RAW_Tables",
						"type": "SqlPoolStoredProcedure",
						"dependsOn": [
							{
								"activity": "VMS_PatientVaccinationRecord_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							},
							{
								"activity": "VMS_Contact_Load",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"sqlPool": {
							"referenceName": "exploredb",
							"type": "SqlPoolReference"
						},
						"typeProperties": {
							"storedProcedureName": "[dbo].[VMS_CreateIndex_Data_Raw_Tables]"
						}
					}
				],
				"folder": {
					"name": "VMS"
				},
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/datasets/VMS_PatientVaccinationRecord_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_PatientVaccinationRecord_SQL')]",
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_Contact_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_Contact_SQL')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_Dynamics_DataLakeV2_Pipeline')]",
			"type": "Microsoft.Synapse/workspaces/pipelines",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Run dataflow with Explicit copy to ingest copy source",
				"activities": [
					{
						"name": "VMS_PatientVaccinationRecord_Ingest",
						"description": "Ingest data from VMS PatientVaccinationRecord to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "VMS_PatientVaccinationRecord_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "VMS_PatientVaccinationRecord_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "VMS_Contact_Ingest",
						"description": "Ingest data from VMS Contact table to Data Lake V2 storage",
						"type": "Copy",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "DynamicsSource"
							},
							"sink": {
								"type": "DelimitedTextSink",
								"storeSettings": {
									"type": "AzureBlobFSWriteSettings"
								},
								"formatSettings": {
									"type": "DelimitedTextWriteSettings",
									"quoteAllText": true,
									"fileExtension": ".txt"
								}
							},
							"enableStaging": false
						},
						"inputs": [
							{
								"referenceName": "VMS_Contact_Dyn",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "VMS_Contact_Lake",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					}
				],
				"folder": {
					"name": "VMS"
				},
				"annotations": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/datasets/VMS_PatientVaccinationRecord_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_PatientVaccinationRecord_Lake')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_Contact_Dyn')]",
				"[concat(variables('workspaceId'), '/datasets/VMS_Contact_Lake')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityParty_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "activityparty"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityParty_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ActivityParty_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}ActivityParty.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_ActivityParty_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ActivityParty_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityParty_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_ActivityParty"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityPointer_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "activitypointer"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityPointer_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ActivityPointer_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}ActivityPointer.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_ActivityPointer_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ActivityPointer_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ActivityPointer_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_ActivityPointer"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_AttributeMap_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_AttributeMap_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "attributemap"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_AttributeMap_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_AttributeMap_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_AttributeMap_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}AttributeMap.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_AttributeMap_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_AttributeMap_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_AttributeMap_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_AttributeMap"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Attribute_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Attribute_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "attribute"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Attribute_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Attribute_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Attribute_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Attribute.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Attribute_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Attribute_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Attribute_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Attribute"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallCloseContacts_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CallCloseContacts_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_callclosecontacts"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CallCloseContacts_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallCloseContacts_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CallCloseContacts_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}CallCloseContacts.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_CallCloseContacts_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CallCloseContacts_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallCloseContacts_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_CallCloseContacts"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallOne_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CallOne_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_callone"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CallOne_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallOne_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CallOne_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}CallOne.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_CallOne_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CallOne_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CallOne_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_CallOne"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CloseContact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CloseContact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_closecontact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CloseContact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CloseContact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CloseContact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}CloseContact.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_CloseContact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CloseContact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CloseContact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_CloseContact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CollectCloseContactCall_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CollectCloseContactCall_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_collectclosecontactscall"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CollectCloseContactCall_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CollectCloseContactCall_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CollectCloseContactCall_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}CollectCloseContactCall.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_CollectCloseContactCall_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "createdby",
						"type": "String"
					},
					{
						"name": "createdbyname",
						"type": "String"
					},
					{
						"name": "createdbyyominame",
						"type": "String"
					},
					{
						"name": "createdon",
						"type": "String"
					},
					{
						"name": "createdonbehalfby",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "importsequencenumber",
						"type": "String"
					},
					{
						"name": "kns_addressline1",
						"type": "String"
					},
					{
						"name": "kns_addressline2",
						"type": "String"
					},
					{
						"name": "kns_allergies",
						"type": "String"
					},
					{
						"name": "kns_appointment",
						"type": "String"
					},
					{
						"name": "kns_appointmentid",
						"type": "String"
					},
					{
						"name": "kns_aptvisionid",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantadvice",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantconfirm",
						"type": "String"
					},
					{
						"name": "kns_batchnumber",
						"type": "String"
					},
					{
						"name": "kns_clinic",
						"type": "String"
					},
					{
						"name": "kns_clinicname",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninpatientsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninresidentsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_covidpositiveinthelast28days",
						"type": "String"
					},
					{
						"name": "kns_currentbreastfeedingstatus",
						"type": "String"
					},
					{
						"name": "kns_dateofbirth",
						"type": "String"
					},
					{
						"name": "kns_dateofvaccination",
						"type": "String"
					},
					{
						"name": "kns_draft",
						"type": "String"
					},
					{
						"name": "kns_email",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackground",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackgroundother",
						"type": "String"
					},
					{
						"name": "kns_expirydate",
						"type": "String"
					},
					{
						"name": "kns_firstname",
						"type": "String"
					},
					{
						"name": "kns_gpadvice",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordid",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordidname",
						"type": "String"
					},
					{
						"name": "kns_gpmedicaladvicereceived",
						"type": "String"
					},
					{
						"name": "kns_hasthepatientgivenverbalconsent",
						"type": "String"
					},
					{
						"name": "kns_hcnumber",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoid",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoidname",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoted",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoteddetails",
						"type": "String"
					},
					{
						"name": "kns_indexmatchstatus",
						"type": "String"
					},
					{
						"name": "kns_jobtype",
						"type": "String"
					},
					{
						"name": "kns_jobtypeother",
						"type": "String"
					},
					{
						"name": "kns_lastname",
						"type": "String"
					},
					{
						"name": "kns_location",
						"type": "String"
					},
					{
						"name": "kns_locationname",
						"type": "String"
					},
					{
						"name": "kns_locationnamefield",
						"type": "String"
					},
					{
						"name": "kns_locationtype",
						"type": "String"
					},
					{
						"name": "kns_mandatoryverbalconsentgiven",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionadvice",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_memberofatrust",
						"type": "String"
					},
					{
						"name": "kns_mobilenumber",
						"type": "String"
					},
					{
						"name": "kns_name",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccinator",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccine",
						"type": "String"
					},
					{
						"name": "kns_otherreasonnottovaccinate",
						"type": "String"
					},
					{
						"name": "kns_patient",
						"type": "String"
					},
					{
						"name": "kns_patientidentityverified",
						"type": "String"
					},
					{
						"name": "kns_patientname",
						"type": "String"
					},
					{
						"name": "kns_patientvaccinationrecordid",
						"type": "String"
					},
					{
						"name": "kns_patientyominame",
						"type": "String"
					},
					{
						"name": "kns_phonenumber",
						"type": "String"
					},
					{
						"name": "kns_postcode",
						"type": "String"
					},
					{
						"name": "kns_pregnancystatus",
						"type": "String"
					},
					{
						"name": "kns_proceedtovaccinate",
						"type": "String"
					},
					{
						"name": "kns_reasonforvaccination",
						"type": "String"
					},
					{
						"name": "kns_reasonifproceedtovaccinateisno",
						"type": "String"
					},
					{
						"name": "kns_requiredfieldsplaceholder",
						"type": "String"
					},
					{
						"name": "kns_rqiacode",
						"type": "String"
					},
					{
						"name": "kns_safetyquestions",
						"type": "String"
					},
					{
						"name": "kns_screeningcompleted",
						"type": "String"
					},
					{
						"name": "kns_seriousallergicreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_seriousreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofood",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodadvice",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodconfirmation",
						"type": "String"
					},
					{
						"name": "kns_sex",
						"type": "String"
					},
					{
						"name": "kns_significantreactiontoanymedicine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccineother",
						"type": "String"
					},
					{
						"name": "kns_sourcesystem",
						"type": "String"
					},
					{
						"name": "kns_thepatienthasbeenvaccinated",
						"type": "String"
					},
					{
						"name": "kns_towncity",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccine",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccineconfirmation",
						"type": "String"
					},
					{
						"name": "kns_trust",
						"type": "String"
					},
					{
						"name": "kns_trustother",
						"type": "String"
					},
					{
						"name": "kns_truststaffnumber",
						"type": "String"
					},
					{
						"name": "kns_unabletobevaccinated",
						"type": "String"
					},
					{
						"name": "kns_vaccinationstatus",
						"type": "String"
					},
					{
						"name": "kns_vaccine",
						"type": "String"
					},
					{
						"name": "kns_vaccinedose",
						"type": "String"
					},
					{
						"name": "kns_vaccinedosetext",
						"type": "String"
					},
					{
						"name": "kns_vaccinename",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionadvice",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_vaccinesinlastsevendays",
						"type": "String"
					},
					{
						"name": "kns_whoisthisrecordfor",
						"type": "String"
					},
					{
						"name": "modifiedby",
						"type": "String"
					},
					{
						"name": "modifiedbyname",
						"type": "String"
					},
					{
						"name": "modifiedbyyominame",
						"type": "String"
					},
					{
						"name": "modifiedon",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "overriddencreatedon",
						"type": "String"
					},
					{
						"name": "ownerid",
						"type": "String"
					},
					{
						"name": "owneridname",
						"type": "String"
					},
					{
						"name": "owneridtype",
						"type": "String"
					},
					{
						"name": "owneridyominame",
						"type": "String"
					},
					{
						"name": "owningbusinessunit",
						"type": "String"
					},
					{
						"name": "owningteam",
						"type": "String"
					},
					{
						"name": "owninguser",
						"type": "String"
					},
					{
						"name": "statecode",
						"type": "String"
					},
					{
						"name": "statuscode",
						"type": "String"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "String"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "String"
					},
					{
						"name": "versionnumber",
						"type": "String"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CollectCloseContactCall_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CollectCloseContactCall_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_CollectCloseContactsCall"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Contact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Contact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "contact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Contact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Contact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Contact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Contact.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Contact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Contact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Contact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Contact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CustomerAddress_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CustomerAddress_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "customeraddress"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CustomerAddress_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CustomerAddress_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_CustomerAddress_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}CustomerAddress.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_CustomerAddress_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_CustomerAddress_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CustomerAddress_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_CustomerAddress"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ExternalContact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ExternalContact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_externalcontact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ExternalContact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ExternalContact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_ExternalContact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}ExternalContact.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_ExternalContact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_ExternalContact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_ExternalContact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_ExternalContact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentContact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_IncidentContact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_incident_contact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_IncidentContact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentContact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_IncidentContact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}IncidentContact.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_IncidentContact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_IncidentContact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentContact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_IncidentContact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentResolution_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "incidentresolution"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentResolution_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_IncidentResolution_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}IncidentResolution.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_IncidentResolution_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_IncidentResolution_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_IncidentResolution_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_IncidentResolution"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Incident_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Incident_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "incident"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Incident_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Incident_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Incident_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Incident.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Incident_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Incident_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Incident_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Incident"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Location_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Location_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_location"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Location_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Location_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Location_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Location.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Location_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Location_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Location_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Location"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Organization_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Organization_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "organization"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Organization_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Organization_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Organization_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Organization.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Organization_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Organization_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Organization_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Organization"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Owner_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Owner_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "owner"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Owner_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Owner_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Owner_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Owner.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Owner_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Owner_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Owner_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Owner"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_SystemUser_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_SystemUser_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "systemuser"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_SystemUser_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_SystemUser_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_SystemUser_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}SystemUser.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_SystemUser_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_SystemUser_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_SystemUser_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_SystemUser"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TestResultsContact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_TestResultsContact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_new_testresults_contact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_TestResultsContact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TestResultsContact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_TestResultsContact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}TestResultsContact.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_TestResultsContact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_TestResultsContact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TestResultsContact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_TestResultsContact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TracerPhoneCall_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_TracerPhoneCall_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}TracerPhoneCall.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_TracerPhoneCall_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_TracerPhoneCall_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TracerPhoneCall_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_TracerPhoneCall"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_TracerPhonecall_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_TracerPhonecall_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_tracerphonecall"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_TracerPhonecall_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Workplace_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Workplace_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/CMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "new_workplace"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Workplace_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Workplace_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('CMS_Workplace_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/CMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Workplace.csv",
							"type": "Expression"
						},
						"folderPath": "cms",
						"fileSystem": "[parameters('CMS_Workplace_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('CMS_Workplace_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Workplace_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/CMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "CMS_Raw_Workplace"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_ActivityParty_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/VMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "activityparty"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_ActivityParty_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_ActivityPointer_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/VMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "activitypointer"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_ActivityPointer_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_Contact_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_Contact_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/VMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "contact"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_Contact_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_Contact_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_Contact_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/VMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}Contact.csv",
							"type": "Expression"
						},
						"folderPath": "vms",
						"fileSystem": "[parameters('VMS_Contact_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "createdby",
						"type": "String"
					},
					{
						"name": "createdbyname",
						"type": "String"
					},
					{
						"name": "createdbyyominame",
						"type": "String"
					},
					{
						"name": "createdon",
						"type": "String"
					},
					{
						"name": "createdonbehalfby",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "importsequencenumber",
						"type": "String"
					},
					{
						"name": "kns_addressline1",
						"type": "String"
					},
					{
						"name": "kns_addressline2",
						"type": "String"
					},
					{
						"name": "kns_allergies",
						"type": "String"
					},
					{
						"name": "kns_appointment",
						"type": "String"
					},
					{
						"name": "kns_appointmentid",
						"type": "String"
					},
					{
						"name": "kns_aptvisionid",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantadvice",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantconfirm",
						"type": "String"
					},
					{
						"name": "kns_batchnumber",
						"type": "String"
					},
					{
						"name": "kns_clinic",
						"type": "String"
					},
					{
						"name": "kns_clinicname",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninpatientsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninresidentsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_covidpositiveinthelast28days",
						"type": "String"
					},
					{
						"name": "kns_currentbreastfeedingstatus",
						"type": "String"
					},
					{
						"name": "kns_dateofbirth",
						"type": "String"
					},
					{
						"name": "kns_dateofvaccination",
						"type": "String"
					},
					{
						"name": "kns_draft",
						"type": "String"
					},
					{
						"name": "kns_email",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackground",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackgroundother",
						"type": "String"
					},
					{
						"name": "kns_expirydate",
						"type": "String"
					},
					{
						"name": "kns_firstname",
						"type": "String"
					},
					{
						"name": "kns_gpadvice",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordid",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordidname",
						"type": "String"
					},
					{
						"name": "kns_gpmedicaladvicereceived",
						"type": "String"
					},
					{
						"name": "kns_hasthepatientgivenverbalconsent",
						"type": "String"
					},
					{
						"name": "kns_hcnumber",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoid",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoidname",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoted",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoteddetails",
						"type": "String"
					},
					{
						"name": "kns_indexmatchstatus",
						"type": "String"
					},
					{
						"name": "kns_jobtype",
						"type": "String"
					},
					{
						"name": "kns_jobtypeother",
						"type": "String"
					},
					{
						"name": "kns_lastname",
						"type": "String"
					},
					{
						"name": "kns_location",
						"type": "String"
					},
					{
						"name": "kns_locationname",
						"type": "String"
					},
					{
						"name": "kns_locationnamefield",
						"type": "String"
					},
					{
						"name": "kns_locationtype",
						"type": "String"
					},
					{
						"name": "kns_mandatoryverbalconsentgiven",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionadvice",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_memberofatrust",
						"type": "String"
					},
					{
						"name": "kns_mobilenumber",
						"type": "String"
					},
					{
						"name": "kns_name",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccinator",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccine",
						"type": "String"
					},
					{
						"name": "kns_otherreasonnottovaccinate",
						"type": "String"
					},
					{
						"name": "kns_patient",
						"type": "String"
					},
					{
						"name": "kns_patientidentityverified",
						"type": "String"
					},
					{
						"name": "kns_patientname",
						"type": "String"
					},
					{
						"name": "kns_patientvaccinationrecordid",
						"type": "String"
					},
					{
						"name": "kns_patientyominame",
						"type": "String"
					},
					{
						"name": "kns_phonenumber",
						"type": "String"
					},
					{
						"name": "kns_postcode",
						"type": "String"
					},
					{
						"name": "kns_pregnancystatus",
						"type": "String"
					},
					{
						"name": "kns_proceedtovaccinate",
						"type": "String"
					},
					{
						"name": "kns_reasonforvaccination",
						"type": "String"
					},
					{
						"name": "kns_reasonifproceedtovaccinateisno",
						"type": "String"
					},
					{
						"name": "kns_requiredfieldsplaceholder",
						"type": "String"
					},
					{
						"name": "kns_rqiacode",
						"type": "String"
					},
					{
						"name": "kns_safetyquestions",
						"type": "String"
					},
					{
						"name": "kns_screeningcompleted",
						"type": "String"
					},
					{
						"name": "kns_seriousallergicreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_seriousreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofood",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodadvice",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodconfirmation",
						"type": "String"
					},
					{
						"name": "kns_sex",
						"type": "String"
					},
					{
						"name": "kns_significantreactiontoanymedicine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccineother",
						"type": "String"
					},
					{
						"name": "kns_sourcesystem",
						"type": "String"
					},
					{
						"name": "kns_thepatienthasbeenvaccinated",
						"type": "String"
					},
					{
						"name": "kns_towncity",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccine",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccineconfirmation",
						"type": "String"
					},
					{
						"name": "kns_trust",
						"type": "String"
					},
					{
						"name": "kns_trustother",
						"type": "String"
					},
					{
						"name": "kns_truststaffnumber",
						"type": "String"
					},
					{
						"name": "kns_unabletobevaccinated",
						"type": "String"
					},
					{
						"name": "kns_vaccinationstatus",
						"type": "String"
					},
					{
						"name": "kns_vaccine",
						"type": "String"
					},
					{
						"name": "kns_vaccinedose",
						"type": "String"
					},
					{
						"name": "kns_vaccinedosetext",
						"type": "String"
					},
					{
						"name": "kns_vaccinename",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionadvice",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_vaccinesinlastsevendays",
						"type": "String"
					},
					{
						"name": "kns_whoisthisrecordfor",
						"type": "String"
					},
					{
						"name": "modifiedby",
						"type": "String"
					},
					{
						"name": "modifiedbyname",
						"type": "String"
					},
					{
						"name": "modifiedbyyominame",
						"type": "String"
					},
					{
						"name": "modifiedon",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "overriddencreatedon",
						"type": "String"
					},
					{
						"name": "ownerid",
						"type": "String"
					},
					{
						"name": "owneridname",
						"type": "String"
					},
					{
						"name": "owneridtype",
						"type": "String"
					},
					{
						"name": "owneridyominame",
						"type": "String"
					},
					{
						"name": "owningbusinessunit",
						"type": "String"
					},
					{
						"name": "owningteam",
						"type": "String"
					},
					{
						"name": "owninguser",
						"type": "String"
					},
					{
						"name": "statecode",
						"type": "String"
					},
					{
						"name": "statuscode",
						"type": "String"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "String"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "String"
					},
					{
						"name": "versionnumber",
						"type": "String"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_Contact_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_Contact_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/VMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "VMS_Raw_Contact"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_IncidentResolution_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/VMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "incidentresolution"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_IncidentResolution_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_PatientVaccinationRecord_Dyn')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_PatientVaccinationRecord_Dyn_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dynamics/VMS"
				},
				"annotations": [],
				"type": "DynamicsEntity",
				"typeProperties": {
					"entityName": "kns_patientvaccinationrecord"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_PatientVaccinationRecord_Dyn_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_PatientVaccinationRecord_Lake')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"linkedServiceName": {
					"referenceName": "[parameters('VMS_PatientVaccinationRecord_Lake_properties_linkedServiceName_referenceName')]",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "StagingLake/VMS"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@{formatDateTime(utcnow(), 'yyyy/MM/dd/HH/')}PatientVaccinationRecord.csv",
							"type": "Expression"
						},
						"folderPath": "vms",
						"fileSystem": "[parameters('VMS_PatientVaccinationRecord_Lake_properties_typeProperties_location_fileSystem')]"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "createdby",
						"type": "String"
					},
					{
						"name": "createdbyname",
						"type": "String"
					},
					{
						"name": "createdbyyominame",
						"type": "String"
					},
					{
						"name": "createdon",
						"type": "String"
					},
					{
						"name": "createdonbehalfby",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyname",
						"type": "String"
					},
					{
						"name": "createdonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "importsequencenumber",
						"type": "String"
					},
					{
						"name": "kns_addressline1",
						"type": "String"
					},
					{
						"name": "kns_addressline2",
						"type": "String"
					},
					{
						"name": "kns_allergies",
						"type": "String"
					},
					{
						"name": "kns_appointment",
						"type": "String"
					},
					{
						"name": "kns_appointmentid",
						"type": "String"
					},
					{
						"name": "kns_aptvisionid",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantadvice",
						"type": "String"
					},
					{
						"name": "kns_areyouorcouldyoubepregnantconfirm",
						"type": "String"
					},
					{
						"name": "kns_batchnumber",
						"type": "String"
					},
					{
						"name": "kns_clinic",
						"type": "String"
					},
					{
						"name": "kns_clinicname",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninpatientsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_consentgiveninresidentsbestinterest",
						"type": "String"
					},
					{
						"name": "kns_covidpositiveinthelast28days",
						"type": "String"
					},
					{
						"name": "kns_currentbreastfeedingstatus",
						"type": "String"
					},
					{
						"name": "kns_dateofbirth",
						"type": "String"
					},
					{
						"name": "kns_dateofvaccination",
						"type": "String"
					},
					{
						"name": "kns_draft",
						"type": "String"
					},
					{
						"name": "kns_email",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackground",
						"type": "String"
					},
					{
						"name": "kns_ethnicbackgroundother",
						"type": "String"
					},
					{
						"name": "kns_expirydate",
						"type": "String"
					},
					{
						"name": "kns_firstname",
						"type": "String"
					},
					{
						"name": "kns_gpadvice",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordid",
						"type": "String"
					},
					{
						"name": "kns_gpipstagingrecordidname",
						"type": "String"
					},
					{
						"name": "kns_gpmedicaladvicereceived",
						"type": "String"
					},
					{
						"name": "kns_hasthepatientgivenverbalconsent",
						"type": "String"
					},
					{
						"name": "kns_hcnumber",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoid",
						"type": "String"
					},
					{
						"name": "kns_historicalvaccinationrecordimpoidname",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoted",
						"type": "String"
					},
					{
						"name": "kns_immediateadverseeventnoteddetails",
						"type": "String"
					},
					{
						"name": "kns_indexmatchstatus",
						"type": "String"
					},
					{
						"name": "kns_jobtype",
						"type": "String"
					},
					{
						"name": "kns_jobtypeother",
						"type": "String"
					},
					{
						"name": "kns_lastname",
						"type": "String"
					},
					{
						"name": "kns_location",
						"type": "String"
					},
					{
						"name": "kns_locationname",
						"type": "String"
					},
					{
						"name": "kns_locationnamefield",
						"type": "String"
					},
					{
						"name": "kns_locationtype",
						"type": "String"
					},
					{
						"name": "kns_mandatoryverbalconsentgiven",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionadvice",
						"type": "String"
					},
					{
						"name": "kns_medicationreactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_memberofatrust",
						"type": "String"
					},
					{
						"name": "kns_mobilenumber",
						"type": "String"
					},
					{
						"name": "kns_name",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccinator",
						"type": "String"
					},
					{
						"name": "kns_nameofvaccine",
						"type": "String"
					},
					{
						"name": "kns_otherreasonnottovaccinate",
						"type": "String"
					},
					{
						"name": "kns_patient",
						"type": "String"
					},
					{
						"name": "kns_patientidentityverified",
						"type": "String"
					},
					{
						"name": "kns_patientname",
						"type": "String"
					},
					{
						"name": "kns_patientvaccinationrecordid",
						"type": "String"
					},
					{
						"name": "kns_patientyominame",
						"type": "String"
					},
					{
						"name": "kns_phonenumber",
						"type": "String"
					},
					{
						"name": "kns_postcode",
						"type": "String"
					},
					{
						"name": "kns_pregnancystatus",
						"type": "String"
					},
					{
						"name": "kns_proceedtovaccinate",
						"type": "String"
					},
					{
						"name": "kns_reasonforvaccination",
						"type": "String"
					},
					{
						"name": "kns_reasonifproceedtovaccinateisno",
						"type": "String"
					},
					{
						"name": "kns_requiredfieldsplaceholder",
						"type": "String"
					},
					{
						"name": "kns_rqiacode",
						"type": "String"
					},
					{
						"name": "kns_safetyquestions",
						"type": "String"
					},
					{
						"name": "kns_screeningcompleted",
						"type": "String"
					},
					{
						"name": "kns_seriousallergicreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_seriousreactiontoanyvaccine",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofood",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodadvice",
						"type": "String"
					},
					{
						"name": "kns_severereactiontofoodconfirmation",
						"type": "String"
					},
					{
						"name": "kns_sex",
						"type": "String"
					},
					{
						"name": "kns_significantreactiontoanymedicine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccine",
						"type": "String"
					},
					{
						"name": "kns_siteofvaccineother",
						"type": "String"
					},
					{
						"name": "kns_sourcesystem",
						"type": "String"
					},
					{
						"name": "kns_thepatienthasbeenvaccinated",
						"type": "String"
					},
					{
						"name": "kns_towncity",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccine",
						"type": "String"
					},
					{
						"name": "kns_trialofapotentialvaccineconfirmation",
						"type": "String"
					},
					{
						"name": "kns_trust",
						"type": "String"
					},
					{
						"name": "kns_trustother",
						"type": "String"
					},
					{
						"name": "kns_truststaffnumber",
						"type": "String"
					},
					{
						"name": "kns_unabletobevaccinated",
						"type": "String"
					},
					{
						"name": "kns_vaccinationstatus",
						"type": "String"
					},
					{
						"name": "kns_vaccine",
						"type": "String"
					},
					{
						"name": "kns_vaccinedose",
						"type": "String"
					},
					{
						"name": "kns_vaccinedosetext",
						"type": "String"
					},
					{
						"name": "kns_vaccinename",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionadvice",
						"type": "String"
					},
					{
						"name": "kns_vaccinereactionconfirmation",
						"type": "String"
					},
					{
						"name": "kns_vaccinesinlastsevendays",
						"type": "String"
					},
					{
						"name": "kns_whoisthisrecordfor",
						"type": "String"
					},
					{
						"name": "modifiedby",
						"type": "String"
					},
					{
						"name": "modifiedbyname",
						"type": "String"
					},
					{
						"name": "modifiedbyyominame",
						"type": "String"
					},
					{
						"name": "modifiedon",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfby",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyname",
						"type": "String"
					},
					{
						"name": "modifiedonbehalfbyyominame",
						"type": "String"
					},
					{
						"name": "overriddencreatedon",
						"type": "String"
					},
					{
						"name": "ownerid",
						"type": "String"
					},
					{
						"name": "owneridname",
						"type": "String"
					},
					{
						"name": "owneridtype",
						"type": "String"
					},
					{
						"name": "owneridyominame",
						"type": "String"
					},
					{
						"name": "owningbusinessunit",
						"type": "String"
					},
					{
						"name": "owningteam",
						"type": "String"
					},
					{
						"name": "owninguser",
						"type": "String"
					},
					{
						"name": "statecode",
						"type": "String"
					},
					{
						"name": "statuscode",
						"type": "String"
					},
					{
						"name": "timezoneruleversionnumber",
						"type": "String"
					},
					{
						"name": "utcconversiontimezonecode",
						"type": "String"
					},
					{
						"name": "versionnumber",
						"type": "String"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/linkedServices/', parameters('VMS_PatientVaccinationRecord_Lake_properties_linkedServiceName_referenceName'))]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_PatientVaccinationRecord_SQL')]",
			"type": "Microsoft.Synapse/workspaces/datasets",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"folder": {
					"name": "SQLPool/VMS"
				},
				"annotations": [],
				"type": "SqlPoolTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "VMS_Raw_PatientVaccinationRecord"
				},
				"sqlPool": {
					"referenceName": "exploredb",
					"type": "SqlPoolReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/sqlPools/exploredb')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/AzureKeyVaultSynapseDefault')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "The default Azure KeyVault for Synapse Analytics Workspace",
				"parameters": {
					"env": {
						"type": "string",
						"defaultValue": "[parameters('AzureKeyVaultSynapseDefault_properties_parameters_env_defaultValue')]"
					}
				},
				"annotations": [],
				"type": "AzureKeyVault",
				"typeProperties": {
					"baseUrl": "[parameters('AzureKeyVaultSynapseDefault_properties_typeProperties_baseUrl')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/DynamicsContactTracing')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Dynamics CRM Contact Tracing aka CTC CRM or CMS",
				"annotations": [],
				"type": "Dynamics",
				"typeProperties": {
					"deploymentType": "Online",
					"serviceUri": "[parameters('DynamicsContactTracing_properties_typeProperties_serviceUri')]",
					"authenticationType": "AADServicePrincipal",
					"servicePrincipalCredentialType": "ServicePrincipalKey",
					"servicePrincipalId": "[parameters('DynamicsContactTracing_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalCredential": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVaultSynapseDefault",
							"type": "LinkedServiceReference"
						},
						"secretName": "[parameters('DynamicsContactTracing_properties_typeProperties_servicePrincipalCredential_secretName')]"
					}
				},
				"connectVia": {
					"referenceName": "AutoResolveIntegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/integrationRuntimes/AutoResolveIntegrationRuntime')]",
				"[concat(variables('workspaceId'), '/linkedServices/AzureKeyVaultSynapseDefault')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/DynamicsVMS')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Dynamics CRM VMS Integration, aka Vaccine Management System",
				"annotations": [],
				"type": "Dynamics",
				"typeProperties": {
					"deploymentType": "Online",
					"serviceUri": "[parameters('DynamicsVMS_properties_typeProperties_serviceUri')]",
					"authenticationType": "AADServicePrincipal",
					"servicePrincipalCredentialType": "ServicePrincipalKey",
					"servicePrincipalId": "[parameters('DynamicsVMS_properties_typeProperties_servicePrincipalId')]",
					"servicePrincipalCredential": {
						"type": "AzureKeyVaultSecret",
						"store": {
							"referenceName": "AzureKeyVaultSynapseDefault",
							"type": "LinkedServiceReference"
						},
						"secretName": "[parameters('DynamicsVMS_properties_typeProperties_servicePrincipalCredential_secretName')]"
					}
				},
				"connectVia": {
					"referenceName": "AutoResolveIntegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/integrationRuntimes/AutoResolveIntegrationRuntime')]",
				"[concat(variables('workspaceId'), '/linkedServices/AzureKeyVaultSynapseDefault')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/PowerBIWorkspace')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Power BI Workspace - max one PowerBI per Synapse Workspace",
				"annotations": [],
				"type": "PowerBIWorkspace",
				"typeProperties": {
					"workspaceID": "[parameters('PowerBIWorkspace_properties_typeProperties_workspaceID')]",
					"tenantID": "[parameters('PowerBIWorkspace_properties_typeProperties_tenantID')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[parameters('phipswdevuks01-WorkspaceDefaultSqlServer_name')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"parameters": {
					"DBName": {
						"type": "String"
					}
				},
				"annotations": [],
				"type": "AzureSqlDW",
				"typeProperties": {
					"connectionString": {
						"type": "SecureString",
						"value": "[parameters('phipswdevuks01-WorkspaceDefaultSqlServer_connectionString')]"
					}
				},
				"connectVia": {
					"referenceName": "AutoResolveIntegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/integrationRuntimes/AutoResolveIntegrationRuntime')]"
			]
		},
		{
			"name": "[parameters('phipswdevuks01-WorkspaceDefaultStorage_name')]",
			"type": "Microsoft.Synapse/workspaces/linkedServices",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('phipswdevuks01-WorkspaceDefaultStorage_properties_typeProperties_url')]"
				},
				"connectVia": {
					"referenceName": "AutoResolveIntegrationRuntime",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/integrationRuntimes/AutoResolveIntegrationRuntime')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/Contact Tracer Hourly run')]",
			"type": "Microsoft.Synapse/workspaces/triggers",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"annotations": [],
				"runtimeState": "Started",
				"pipeline": {
					"pipelineReference": {
						"referenceName": "Dynamics CMS",
						"type": "PipelineReference"
					},
					"parameters": {}
				},
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Hour",
					"interval": 1,
					"startTime": "2021-03-26T11:09:00Z",
					"endTime": "2021-03-29T12:26:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 50,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": []
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/pipelines/Dynamics CMS')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS Hourly Run')]",
			"type": "Microsoft.Synapse/workspaces/triggers",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"description": "Scheduled to run for next 3 days.",
				"annotations": [],
				"runtimeState": "Started",
				"pipeline": {
					"pipelineReference": {
						"referenceName": "Dynamics VMS",
						"type": "PipelineReference"
					},
					"parameters": {}
				},
				"type": "TumblingWindowTrigger",
				"typeProperties": {
					"frequency": "Hour",
					"interval": 1,
					"startTime": "2021-03-22T10:44:00Z",
					"endTime": "2021-03-29T12:44:00Z",
					"delay": "00:00:00",
					"maxConcurrency": 50,
					"retryPolicy": {
						"intervalInSeconds": 30
					},
					"dependsOn": []
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/pipelines/Dynamics VMS')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/AutoResolveIntegrationRuntime')]",
			"type": "Microsoft.Synapse/workspaces/integrationRuntimes",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"type": "Managed",
				"typeProperties": {
					"computeProperties": {
						"location": "AutoResolve",
						"dataFlowProperties": {
							"computeType": "General",
							"coreCount": 8,
							"timeToLive": 0
						}
					}
				},
				"managedVirtualNetwork": {
					"type": "ManagedVirtualNetworkReference",
					"referenceName": "default"
				}
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/managedVirtualNetworks/default')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/WorkspaceSystemIdentity')]",
			"type": "Microsoft.Synapse/workspaces/credentials",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"type": "ManagedIdentity",
				"typeProperties": {}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Cases_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_InitializeAndPopulate_Cases_Table') is not null) begin\n    drop procedure dbo.CMS_InitializeAndPopulate_Cases_Table;\nend\ngo\n\nCREATE PROCEDURE [dbo].[CMS_InitializeAndPopulate_Cases_Table] AS\n\nif(object_id('dbo.Cases') is not null) drop table dbo.Cases\n\nCREATE TABLE [dbo].[Cases]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect\nId = cast(caseFile.incidentid as UNIQUEIDENTIFIER),\nCentralTestRegisterId = cast(caseFile.new_CentralTestRegisterID as varchar(50)),\nCaseNumber = cast(caseFile.TicketNumber as varchar(50)),\nLabSource = cast(caseFile.new_LabSource as varchar(250)),\nFirstName = cast(cas.FirstName as varchar(250)),\nLastName = cast(cas.LastName as varchar(250)),\nAddressLine1 = cast(cas.Address1_Line1 as varchar(250)),\nAddressLine2 = cast(cas.Address1_Line2 as varchar(250)),\nAddressLine3 = cast(cas.Address1_Line3 as varchar(250)),\nAddressCounty = cast(cas.Address1_County as varchar(250)),\nAddressCity = cast(cas.Address1_City as varchar(250)),\nCreatedOn = convert(datetime, left(caseFile.CreatedOn, 23), 121),\nCaseFileModifiedOn = convert(datetime, left(caseFile.ModifiedOn, 23), 121),\nModifiedOn = convert(datetime, left(cas.ModifiedOn, 23), 121),\nPostCode = cast(cas.Address1_PostalCode as varchar(100)),\nCloseContactCount = cast(caseFile.new_CloseContactCount as int),\nIsPositive = cast(cast(cas.new_ResultPosNegUpdated as bit) as int),\nIsSymptomatic = cast(cast(cas.new_symptomatic as bit) as int),\nAgeAtPositiveResult = datediff(year, convert(datetime, left(cas.createdon, 23), 121), convert(datetime, left(cas.BirthDate, 23), 121)),\nDateOfOnset = convert(datetime, left(cas.new_Dateofonset, 23), 121),\nDateOfResult = convert(datetime, left(cas.new_Dateofresult, 23), 121),\nDateOfSample = convert(datetime, left(cas.new_Dateofsample, 23), 121),\nIsHealthcareWorker = cast(cast(cas.new_HealthcareWorker as bit) as int),\nIsInformed = cast(cast(cas.new_InformedYN as bit) as int),\nHealthcareWorker = cast(cast(cas.new_HealthcareWorker as bit) as int),\nDateOfDeath = convert(datetime, left(cas.new_dateofdeath, 23), 121),\nGender = cast(cas.new_gender as varchar(250)),\nAdditionalPhoneNumbers = cast(cas.new_AdditionalPhoneNumbers as varchar(250)),\nNextOfKin = cast(cas.new_NextOfKin as varchar(250)),\nHealthandCareNumber = cast(cas.new_HealthandCareNumber as varchar(250)),\nGpName = cast(cas.new_GPName as varchar(250)),\nTestResultId = cast(cas.new_TestResult as varchar(250)),\nDateOfCasePromotion = convert(datetime, left(cas.new_DateOfCasePromotion, 23), 121),\nCaseFileStatus = cast(caseFile.StateCode as varchar(20)),\nCluster1Id = cast(cas.new_Cluster1Id as varchar(50)),\nCluster1Name = cast(cas.new_Cluster1Name as varchar(250)),\nCluster1Postcode = cast(cas.new_Cluster1Postcode as varchar(50)),\nCluster1AdditionDate = convert(datetime, left(cas.new_Cluster1AdditionDate, 23), 121),\nCluster2Id = cast(cas.new_Cluster2Id as varchar(50)),\nCluster2Name = cast(cas.new_Cluster2Name as varchar(250)),\nCluster2Postcode = cast(cas.new_Cluster2Postcode as varchar(50)),\nCluster2AdditionDate = convert(datetime, left(cas.new_Cluster2AdditionDate, 23), 121),\nCluster3Id = cast(cas.new_Cluster3Id as varchar(50)),\nCluster3Name = cast(cas.new_Cluster3Name as varchar(250)),\nCluster3Postcode = cast(cas.new_Cluster3Postcode as varchar(50)),\nCluster3AdditionDate = convert(datetime, left(cas.new_Cluster3AdditionDate, 23), 121),\nWgsSuspectedVariantTravel = cast(cast(cas.new_WGSSuspectedVarianttravel as bit) as int),\nWgsVariantTravelDate = convert(datetime, left(cas.new_WGSVarianttraveldate, 23), 121),\nWgsSuspectedVariantCluster = cast(cast(cas.new_WGSSuspectedVariantcluster as bit) as int),\nWgsVariantClusterDate = convert(datetime, left(cas.new_WGSSuspectedVariantclusterdate, 23), 121),\nWgsSuspectedVariantVaccineFail = cast(cast(cas.new_WGSSuspectedVariantvaccinefail as bit) as int),\nWgsVariantVaccineFailDate = convert(datetime, left(cas.new_WGSSuspectedVariantvaccinefaildate, 23), 121),\nWgsOtherVariant = cast(cast(cas.new_WGSothervariant as bit) as int),\nWgsOtherVariantDate = convert(datetime, left(cas.new_WGSothervariantdate, 23), 121),\nWgsOtherReason = cast(cast(cas.new_WGSotherreason as bit) as int),\nWgsOtherReasonDate = convert(datetime, left(cas.new_WGSotherreasondate, 23), 121),\nWgsReasonForReferral = cast(cas.new_WGSReasonforReferral as varchar(2000)),\nWgsVariantConfirmed = cast(cast(cas.new_WGSVariantConfirmed as bit) as int),\nWgsSubtypeVoc20201201 = cast(cas.new_WGSSubtypeVOC20201201 as varchar(250)),\nWgsSubtypeVoc20201201Date = convert(datetime, left(cas.new_WGSSubtypeVOC20201201date, 23), 121),\nWgsSubtypeOther = cast(cas.new_WGSSubtypeOther as varchar(2000))\nfrom dbo.CMS_Raw_Incident caseFile \nleft join dbo.CMS_Raw_Contact Cas on casefile.contactid = Cas.ContactId",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CloseContactCalls_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_InitializeAndPopulate_CloseContactCalls_Table') is not null) begin\n    drop procedure dbo.CMS_InitializeAndPopulate_CloseContactCalls_Table;\nend\ngo\n\nCREATE PROCEDURE [dbo].[CMS_InitializeAndPopulate_CloseContactCalls_Table] AS\n\n\nif(object_id('dbo.CloseContactCalls') is not null) drop table dbo.CloseContactCalls\n\nCREATE TABLE [dbo].[CloseContactCalls]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect \nId = cast(CallClose.activityid as UNIQUEIDENTIFIER),\nOwner = cast(null as varchar(200)), -- cast(CallClose.OwnerId.Name as varchar(200)),\nCallEndTime = convert(datetime, left(CallClose.ActualEnd, 23), 121),\nCallStatus = cast(null as varchar(20)), --cast(CalllClose.new_StateCode as varchar(20)),\nCaseNumber = cast(Inc.TicketNumber as varchar(50)),\nPostCode = cast(CallClose.new_PostCode as varchar(20)),\nDateOfLastContact = convert(datetime, left(CallClose.new_ContactDate, 23), 121),\nIsHealthCareWorker = cast(cast(CallClose.new_DoyouworkinHealthcare as bit) as int),\nUnder16 = cast(cast(CallClose.new_ConfirmUnder16 as bit) as int),\nIsDeceased = cast(cast(CallClose.new_Closecontactdeceased as bit) as int),\nContactDate = convert(datetime, left(CallClose.new_ContactDate, 23), 121),\nCough = cast(cast(CallClose.new_Cough as bit) as int),\nDirectPatientContact = cast(cast(CallClose.new_Directpatientcontact as bit) as int),\nFeverOrHighTemperature = cast(cast(CallClose.new_Feverorhightemperature as bit) as int),\nWellEnoughToSpeak = cast(cast(CallClose.new_Iswellenoughtospeak as bit) as int),\nOccupation = cast(CallClose.new_occupation as varchar(200)),\nRecentWorkplaces = cast(CallClose.new_recentworkplaces as varchar(200)),\nShortnessOfBreath = cast(cast(CallClose.new_Shortnessofbreathordifficultywithbreathin as bit) as int),\nWearingPPE = cast(cast(CallClose.new_wearing_ppe as bit) as int),\nDateOfDeath = convert(datetime, left(CallClose.new_dateofdeath, 23), 121),\nGender = cast(CallClose.new_gender as varchar(20)),\nHasAlternativePersonContact = cast(ISNULL(CallClose.new_alternativepersoncontactname, CallClose.new_alternativepersoncontactname) as varchar(200)),\nContactSetting = cast(CallClose.new_contactsetting as varchar(200)),\nHasCloseFamilyMember = cast(ISNULL(CallClose.new_CloseFamilyMemberLastName, CallClose.new_CloseFamilyMemberNumber) as varchar(200)),\nDesignatedContactRelationship = cast(CallClose.new_DesignatedContactRelationship as varchar(200)),\nContactPhoneNumber = cast(CallClose.new_ContactPhoneNumber as varchar(20)),\nProvidedAdvice = cast(cast(CallClose.new_ProvidedAdvice as bit) as int),\nHasGuardian = cast(coalesce(CallClose.new_GuardianNumber, CallClose.new_GuardianLastName, CallClose.new_GuardianFirstName) as varchar(250)),\nContactCircumstances = cast(CallClose.new_ContactCircumstances as varchar(200)),\nFullName = cast(CallClose.new_Contact as varchar(250)),\nFirstName = cast(Con.FirstName as varchar(250)),\nLastName = cast(Con.LastName as varchar(250)),\nAddressLine1 = cast(CallClose.new_AddressLine1 as varchar(250)),\nAddressLine2 = cast(CallClose.new_AddressLine2 as varchar(250)),\nAddressLine3 = cast(CallClose.new_AddressLine3 as varchar(250)),\nAddressCounty = cast(CallClose.new_County as varchar(250)),\nAddressCity = cast(CallClose.new_City as varchar(250)),\nDoYouWorkInHealthCareNotes = cast(CallClose.new_Doyouworkinhealthcarenotes as varchar(20)),\nDoYouHaveADesignatedContact = cast(cast(CallClose.new_Doyouhaveadesignatedcontact as bit) as int),\nAllEmployersNotified = cast(cast(CallClose.new_AllEmployersNotified as bit) as int),\nEmployerName = cast(CallClose.new_EmployerName as varchar(250)),\nEmployerAddressLine1 = cast(CallClose.new_EmployersAddressLine1 as varchar(250)),\nEmployerAddressLine2 = cast(CallClose.new_EmployersAddressLine2 as varchar(250)),\nEmployerAddressLine3 = cast(CallClose.new_EmployersAddressLine3 as varchar(250)),\nEmployerAddressCounty = cast(CallClose.new_EmployersCounty as varchar(250)),\nEmployerAddressTownCity = cast(CallClose.new_EmployersTownCity as varchar(250)),\nEmployerAddressPostCode = cast(CallClose.new_EmployersPostCode as varchar(250)),\nVisitedEmployerLast7Days = cast(cast(CallClose.new_Haveyouvisitedyouremployerinthelast7days as bit) as int),\nSecondaryEmployerName = cast(CallClose.new_SecondaryEmployerName as varchar(250)),\nSecondaryEmployerAddressLine1 = cast(CallClose.new_SecondaryEmployersAddressLine1 as varchar(250)),\nSecondaryEmployerAddressLine2 = cast(CallClose.new_SecondaryEmployersAddressLine2 as varchar(250)),\nSecondaryEmployerAddressLine3 = cast(CallClose.new_SecondaryEmployersAddressLine3 as varchar(250)),\nSecondaryEmployerAddressCounty = cast(CallClose.new_SecondaryEmployersCounty as varchar(250)),\nSecondaryEmployerAddressTownCity = cast(CallClose.new_SecondaryEmployersTownCity as varchar(250)),\nSecondaryEmployerAddressPostCode = cast(CallClose.new_SecondaryEmployersPostCode as varchar(250)),\nVisitedSecondaryEmployerLast7Days = cast(cast(CallClose.new_Visitedsecondaryemployerinthelast7days as bit) as int),\nSecondaryOccupation = cast(CallClose.new_SecondaryOccupation as varchar(250)),\nTestResults = cast(cast(CallClose.new_TestResults as bit) as int),\nTestResultOptions = cast(CallClose.new_TestResultOptions as varchar(250)),\nBirthday = convert(datetime, left(CallClose.new_Birthday, 23), 121),\nAgeAtDateOfCall = datediff(year, convert(datetime, left(CallClose.createdon, 23), 121), convert(datetime, left(CallClose.new_Birthday, 23), 121)),\nTypeOfContact = cast(CallClose.new_typeofcontact as varchar(250)),\nTotalTracerPhoneCalls = cast(CallClose.new_TotalTracerPhoneCalls as int),\nCallOutcome = cast(CallClose.new_CallOutcome as varchar(250)),\nCallOutcomeReason = cast(CallClose.new_CallOutcomeReason as varchar(500)),\nTestResultId = cast(Con.new_TestResult as varchar(50)),\nDateOfCasePromotion = convert(datetime, left(Con.new_DateOfCasePromotion, 23), 121),\nOverseasTravel = cast(cast(CallClose.new_OverseasTravel as bit) as int),\nDetailsOfTravel = cast(CallClose.new_Detailsoftravel as varchar(250)),\nAlreadyContactedByCTC = cast(cast(CallClose.new_AlreadycontactedbyCTC as bit) as int),\nLossOfSenseOfSmell = cast(cast(CallClose.new_Lossofsenseofsmell as bit) as int),\nSelfIsolating = cast(cast(CallClose.new_Selfisolating as bit) as int),\nDateSelfIsolationBegan = convert(datetime, left(CallClose.new_Dateselfisolationbegan, 23), 121),\nDateSelfIsolationEnded = convert(datetime, left(CallClose.new_Dateselfisolationended, 23), 121),\nHaveYouVisitedAnyOtherLocations = cast(cast(CallClose.new_Haveyouvisitedanyotherlocations as bit) as int),\nWorksForHSCNITrust = cast(cast(CallClose.new_DoyouworkforoneoftheHSCNITrustsinNI as bit) as int),\nTrusts = cast(CallClose.new_Trusts as varchar(250)),\nTrustsOther = cast(CallClose.new_TrustsOther as varchar(250)),\nSmsDeliveryStatus = cast(CallClose.new_SMSDeliveryStatus as varchar(250)),\nCreatedOn = convert(datetime, left(CallClose.createdon, 23), 121),\nModifiedOn = convert(datetime, left(CallClose.modifiedon, 23), 121),\nLastModifiedBy = cast(CallClose.modifiedby as varchar(250))\nfrom dbo.CMS_Raw_CallCloseContacts as CallClose\ninner join dbo.CMS_Raw_Incident as Inc\n    on Inc.incidentid = CallClose.regardingobjectid\ninner join dbo.CMS_Raw_Contact as Con\n    on Con.contactid = CallClose.new_contact\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_CollectCloseContactCalls_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_InitializeAndPopulate_CollectCloseContactCalls_Table') is not null) begin\n    drop procedure dbo.CMS_InitializeAndPopulate_CollectCloseContactCalls_Table;\nend\ngo\n\nCREATE PROCEDURE [dbo].[CMS_InitializeAndPopulate_CollectCloseContactCalls_Table] AS\n\n\nif(object_id('dbo.CollectContactCalls') is not null) drop table dbo.CollectContactCalls\n\nCREATE TABLE [dbo].[CollectContactCalls]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect \nId = cast(CallClose.activityid as UNIQUEIDENTIFIER),\nOwner = cast(null as varchar(200)), -- cast(CallClose.OwnerId.Name as varchar(200)),\nCallEndTime = convert(datetime, left(CallClose.ActualEnd, 23), 121),\nCallStatus = cast(null as varchar(20)), --cast(CalllClose.new_StateCode as varchar(20)),\nCaseNumber = cast(Inc.TicketNumber as varchar(50)),\nAlreadyCompletedViaSelfTrace = cast(cast(CallClose.new_Alreadycompletedviaselftrace as bit) as int),\nAttemptedToUseDigitalSelfTrace = cast(CallClose.new_DidtheyattempttouseDigitalSelfTrace as varchar(200)),\nDateSMSInviteSent = convert(datetime, left(CallClose.new_DateSMSinvitesent, 23), 121),\nSMSReminderSent = cast(cast(CallClose.new_SMSRemindersent as bit) as int),\nSMSRemindnerSentAt = convert(datetime, left(CallClose.new_SMSRemindersentat, 23), 121),\nAlreadyCompletedTracingWithPHA = cast(cast(CallClose.new_AlreadycompletedtracingwithPHA as bit) as int),\nCaseDeceased = cast(cast(CallClose.new_CaseDeceased as bit) as int),\nConfirmUnder16 = cast(cast(CallClose.new_Confirmunder16 as bit) as int),\nCountriesVisited = cast(CallClose.new_countriesvisited as varchar(500)),\nDateOfDeath = convert(datetime, left(CallClose.new_dateofdeath, 23), 121),\nDidntKnowResult = cast(cast(CallClose.new_Didntknowtheresult as bit) as int),\nDirectPatientContent = cast(cast(CallClose.new_Directpatientcontact as bit) as int),\nDesignatedContact = cast(cast(CallClose.new_Doyouhaveadesignatedconact as bit) as int),\nFirstDateYouFeltUnwell = convert(datetime, left(CallClose.new_Firstdatetimeyoufeltunwell, 23), 121),\nTraveledOutsideNI = cast(cast(CallClose.new_haveyoutravelledoutsideofNI as bit) as int),\nHealthAdviceGiven = cast(cast(CallClose.new_HealthAdviceGiven as bit) as int),\nHealthOrSocialCareWorker = cast(cast(CallClose.new_Healthorsocialcareworker as bit) as int),\nHealthOrSocialCareWorkerNotes = cast(CallClose.new_Healthorsocialcareworkernotes as varchar(2000)),\nHospitalOrNursingHome = cast(CallClose.new_HospitalorNursingHome as varchar(500)),\nInHospitalOrNursingHome = cast(cast(CallClose.new_Inhospitalornursinghome as bit) as int),\nIsolationStartDate = convert(datetime, left(CallClose.new_Isolationstartdate, 23), 121),\nIsolationEndDate = convert(datetime, left(CallClose.new_isolationenddate, 23), 121),\nKnewTheResult = cast(cast(CallClose.new_Knewtheresult as bit) as int),\nOccupation = cast(CallClose.new_occupation as varchar(250)),\nRecentWorkplaces = cast(CallClose.new_recentworkplaces as varchar(500)),\nResultProvidedByCaller = cast(cast(CallClose.new_Resultprovidedbycaller as bit) as int),\nSelfIsolationAdviceGiven = cast(cast(CallClose.new_Selfisolationadvicegiven as bit) as int),\nWearingPPE = cast(cast(CallClose.new_wearing_ppe as bit) as int),\nWellEnoughToSpeak = cast(cast(CallClose.new_Wellenoughtospeak as bit) as int),\nLastSmsSentDate= convert(datetime, left(new_LastSMSSentDate, 23), 121),\nTotalSmsSent = cast(CallClose.new_TotalSMSSent as int),\nSendSmsDelegate = cast(cast(CallClose.new_SendSMSDelegate as bit) as int),\nCallTerminatedByHandlerReason = cast(CallClose.new_CallTerminatedByHandlerReason as varchar(500)),\nSmsResponse = cast(CallClose.new_SMSResponse as varchar(500)),\nSendSms = cast(cast(CallClose.new_SendSMS as bit) as int),\nRecentlyTestedForCovid19AndToldTheResult = cast(cast(CallClose.new_RecentlyTestedforCovid19andtoldtheresult as bit) as int),\nMobilePhoneNumber = cast(CallClose.new_MobilePhoneNumber as varchar(30)),\nHospitalorNursingHomenotes = cast(CallClose.new_HospitalorNursingHomenotes as varchar(500)),\nDateOfSample = convert(datetime, left(CallClose.new_DateOfSample, 23), 121),\nAdditionalPhoneNumbers = cast(CallClose.new_AdditionalPhoneNumbers as varchar(100)),\nAlternativeContactNumber = cast(CallClose.new_AlternativeContactNumber as varchar(100)),\nCity = cast(CallClose.new_City as varchar(100)),\nHasCloseFamilyMember = cast(coalesce(CallClose.new_Closefamilymemberfirstname, CallClose.new_Closefamilymemberfirstname, CallClose.new_Closefamilymembernumber) as varchar(250)),\nComplete = cast(cast(CallClose.new_Complete as bit) as int),\nContactedAboutCovid19Result = cast(cast(CallClose.new_ContactedaboutCovid19result as bit) as int),\nDesignatedContactRelationship = cast(CallClose.new_DesignatedContactRelationship as varchar(500)),\nDuration = cast(CallClose.new_duration as int),\nDurationInDays = cast(CallClose.new_duration_in_days as varchar(100)),\nGender = cast(CallClose.new_gender as varchar(20)),\nHasGuardian = cast(coalesce(CallClose.new_GuardianFirstName, CallClose.new_GuardianLastName, CallClose.new_GuardianNumber) as varchar(200)),\n[Primary] = cast(CallClose.new_Primary as varchar(250)),\nSmsStatus = cast(CallClose.new_smsStatus as varchar(250)),\nTravelInformation = cast(CallClose.new_TravelInformation as varchar(250)),\nHealthcareWorkerTrusts = cast(CallClose.new_Trusts as varchar(500)),\nHealthcareWorkerRegulatedAgency = cast(CallClose.new_HealthcareWorkerRegulatedAgency as varchar(500)),\nHealthcareWorkerRegulatedAgencyOther = cast(CallClose.new_HealthcareWorkerRegulatedAgencyOther as varchar(500)),\nMixedAndMultipleEthnicGroups = cast(CallClose.new_MixedAndMultipleEthnicGroups as varchar(500)),\nBlackEthnicGroups = cast(CallClose.new_BlackEthnicGroups as varchar(500)),\nAsianAndAsianBritishEthnicGroups = cast(CallClose.new_AsianAndAsianBritishEthnicGroups as varchar(500)),\nEthnicGroupOther = cast(CallClose.new_EthnicGroupOther as varchar(500)),\nEthnicGroupCategories = cast(CallClose.new_EthnicGroupCategories as varchar(500)),\nEthnicBackgroundOther = cast(CallClose.new_EthnicBackgroundOther as varchar(500)),\nAllEmployersNotified = cast(cast(CallClose.new_AllEmployersNotified as bit) as int),\nEmployerName = cast(CallClose.new_EmployerName as varchar(250)),\nEmployerContactNumber = cast(CallClose.new_Employercontactnumber as varchar(250)),\nEmployerAddressLine1 = cast(CallClose.new_EmployersAddressLine1 as varchar(250)),\nEmployerAddressLine2 = cast(CallClose.new_EmployersAddressLine2 as varchar(250)),\nEmployerAddressLine3 = cast(CallClose.new_EmployersAddressLine3 as varchar(250)),\nEmployerCity = cast(CallClose.new_EmployersCity as varchar(250)),\nEmployerCounty = cast(CallClose.new_EmployersCounty as varchar(250)),\nEmployerPostCode = cast(CallClose.new_EmployersPostCode as varchar(250)),\nSecondaryEmployerName = cast(CallClose.new_SecondaryEmployerName as varchar(250)),\nSecondaryEmployerContactNumber = cast(CallClose.new_SecondaryEmployerContactNumber as varchar(250)),\nSecondaryEmployerAddressLine1 = cast(CallClose.new_SecondaryEmployersAddressLine1 as varchar(250)),\nSecondaryEmployerAddressLine2 = cast(CallClose.new_SecondaryEmployersAddressLine2 as varchar(250)),\nSecondaryEmployerAddressLine3 = cast(CallClose.new_SecondaryEmployersAddressLine3 as varchar(250)),\nSecondaryEmployerCity = cast(CallClose.new_SecondaryEmployersCity as varchar(250)),\nSecondaryEmployerCounty = cast(CallClose.new_SecondaryEmployersCounty as varchar(250)),\nSecondaryEmployerPostCode = cast(CallClose.new_SecondaryEmployersPostCode as varchar(250)),\nSecondaryOccupation = cast(CallClose.new_SecondaryOccupation as varchar(250)),\nHaveYouVisitedEmployersAddress = cast(cast(CallClose.new_Haveyouvisitedyouremployersaddress as bit) as int),\nHaveYouVisitedSecondaryEmployersAddress = cast(cast(CallClose.new_Haveyouvisitedyoursecondaryemployersaddre as bit) as int),\nHaveYouVisistedOtherLocations = cast(cast(CallClose.new_Haveyouvisitedotherlocations as bit) as int),\nIsRegisteredChildMinder = cast(cast(CallClose.new_Areyouaregisteredchildminder as bit) as int),\nHasSecondaryOccupation = cast(cast(CallClose.new_Doyouhaveasecondoccupation as bit) as int),\nRegisteredChildMinderRole = cast(CallClose.new_Whichoptionbestdescribesyourchildminderro as varchar(500)),\nTotalTracerPhoneCalls = cast(CallClose.new_TotalTracerPhoneCalls as int),\nCallOutcome = cast(CallClose.new_CallOutcome as varchar(500)),\nCallOutcomeReason = cast(CallClose.new_CallOutcomeReason as varchar(1000)),\nIsSymptomatic = cast(cast(CallClose.new_Symptomatic as bit) as int),\nHadFirstCovid19VaccineDose = cast(cast(CallClose.new_Hadfirstcovid19vaccinedose as bit) as int),\nDateOfFirstCovid19VaccineDose = convert(datetime, left(CallClose.new_Dateoffirstcovid19vaccinedose, 23), 121),\nHadSecondCovid19VaccineDose = cast(cast(CallClose.new_Hadsecondcovid19vaccinedose as bit) as int),\nDateOfSecondCovid19VaccineDose = convert(datetime, left(CallClose.new_Dateofsecondcovid19vaccinedose, 23), 121), \nCreatedOn = convert(datetime, left(CallClose.createdon, 23), 121),\nModifiedOn = convert(datetime, left(CallClose.modifiedon, 23), 121),\nLastModifiedBy = cast(CallClose.modifiedby as varchar(250))\n\nfrom dbo.CMS_Raw_CollectCloseContactsCall as CallClose\ninner join dbo.CMS_Raw_Incident as Inc\n    on Inc.incidentid = CallClose.regardingobjectid\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Location_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_InitializeAndPopulate_Location_Table') is not null) begin\n    drop procedure dbo.CMS_InitializeAndPopulate_Location_Table;\nend\ngo\n\n\nCREATE PROCEDURE [dbo].[CMS_InitializeAndPopulate_Location_Table] AS\n\n\nif(object_id('dbo.Location') is not null) drop table dbo.Location\n\nCREATE TABLE [dbo].[Location]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect \n\nId = cast(new_locationId as uniqueidentifier), \nWhereDidContactTakePlace = cast(new_Wheredidthiscontacttakeplace as varchar(200)),\nTypeOfPlace = cast(new_Whattypeofplacewasthis as varchar(200)),\nCountriesVisited = cast(new_Countriesvisited as varchar(500)),\nMoreDetail = cast(new_Canyouprovidemoredetail as varchar(100)),\nAdditionalTravelInformation = cast(new_Additionaltravelinformation as varchar(100)),\nWhenDidYouLeaveNorthernIreland = cast(new_WhendidyouleaveNorthernIreland as varchar(100)),\nWhenDidYouReturnToNorthernIreland = cast(new_WhendidyoureturntoNorthernIreland as varchar(100)),\nCategory = cast(new_LocationCategory as varchar(200)),\nCategoryOther = cast(new_LocationCategoryOther as varchar(500)),\nDescription = cast(new_LocationDescription as varchar(2000)),\nAddressLine1 = cast(new_AddressLine1 as varchar(200)),\nAddressLine2 = cast(new_AddressLine2 as varchar(200)),\nAddressLine3 = cast(new_AddressLine3 as varchar(200)),\nCity = cast(new_city as varchar(150)), \nCounty = cast(new_County as varchar(100)), \nPostCode = cast(new_PostCode as varchar(20)), \nDateVisited = convert(datetime, left(new_DateVisited, 23), 121),\nCloseContactId = cast(new_CallCloseContacts as varchar(50)), \nCollectCallId = cast(new_collectclosecontactsId as varchar(50)), \nCreatedOn = convert(datetime, left(createdon, 23), 121),\nModifiedOn = convert(datetime, left(modifiedon, 23), 121),\nIsWorkplace = cast(0 as int)\n\nfrom dbo.CMS_Raw_Location;\n\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_RAW_CreateIndex_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_CreateIndex_Data_Raw_Tables') is not null) begin\n    drop procedure dbo.CMS_CreateIndex_Data_Raw_Tables;\nend\ngo\n\ncreate PROCEDURE [dbo].[CMS_CreateIndex_Data_Raw_Tables] AS\n\nselect 1 as x\n\ngo",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_RAW_InitializeData_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_Initialize_Data_Raw_Tables') is not null) begin\n    drop procedure dbo.CMS_Initialize_Data_Raw_Tables;\nend\ngo\n\ncreate PROCEDURE [dbo].[CMS_Initialize_Data_Raw_Tables] AS\n\nif(object_id('dbo.CMS_Raw_ActivityParty') is not null) begin\n    --truncate table dbo.CMS_Raw_ActivityParty;\n    drop table dbo.CMS_Raw_ActivityParty;\nend\n\nif(object_id('dbo.CMS_Raw_ActivityPointer') is not null) begin\n    --truncate table dbo.CMS_Raw_ActivityPointer;\n    drop table dbo.CMS_Raw_ActivityPointer;\nend\n\nif(object_id('dbo.CMS_Raw_Attribute') is not null) begin\n    --truncate table dbo.CMS_Raw_Attribute;\n    drop table dbo.CMS_Raw_Attribute;\nend\n\nif(object_id('dbo.CMS_Raw_AttributeMap') is not null) begin\n    --truncate table dbo.CMS_Raw_AttributeMap;\n    drop table dbo.CMS_Raw_AttributeMap;\nend\n\nif(object_id('dbo.CMS_Raw_CallCloseContacts') is not null) begin\n    --truncate table dbo.CMS_Raw_CallCloseContacts;\n    drop table dbo.CMS_Raw_CallCloseContacts;\nend\n\nif(object_id('dbo.CMS_Raw_CallOne') is not null) begin\n    --truncate table dbo.CMS_Raw_CallOne;\n    drop table dbo.CMS_Raw_CallOne;\nend\n\nif(object_id('dbo.CMS_Raw_CloseContact') is not null) begin\n    --truncate table dbo.CMS_Raw_CloseContact;\n    drop table dbo.CMS_Raw_CloseContact;\nend\n\nif(object_id('dbo.CMS_Raw_CollectCloseContactsCall') is not null) begin\n    --truncate table dbo.CMS_Raw_CollectCloseContactsCall;\n    drop table dbo.CMS_Raw_CollectCloseContactsCall;\nend\n\nif(object_id('dbo.CMS_Raw_CustomerAddress') is not null) begin\n    --truncate table dbo.CMS_Raw_CustomerAddress;\n    drop table dbo.CMS_Raw_CustomerAddress;\nend\n\nif(object_id('dbo.CMS_Raw_ExternalContact') is not null) begin\n    --truncate table dbo.CMS_Raw_ExternalContact;\n    drop table dbo.CMS_Raw_ExternalContact;\nend\n\nif(object_id('dbo.CMS_Raw_Contact') is not null) begin\n    --truncate table dbo.CMS_Raw_Contact;\n    drop table dbo.CMS_Raw_Contact;\nend\n\nif(object_id('dbo.CMS_Raw_Incident') is not null) begin\n    --truncate table dbo.CMS_Raw_Incident;\n    drop table dbo.CMS_Raw_Incident;\nend\n\nif(object_id('dbo.CMS_Raw_IncidentContact') is not null) begin\n    --truncate table dbo.CMS_Raw_IncidentContact;\n    drop table dbo.CMS_Raw_IncidentContact;\nend\n\nif(object_id('dbo.CMS_Raw_IncidentResolution') is not null) begin\n    --truncate table dbo.CMS_Raw_IncidentResolution;\n    drop table dbo.CMS_Raw_IncidentResolution;\nend\n\nif(object_id('dbo.CMS_Raw_Location') is not null) begin\n    --truncate table dbo.CMS_Raw_Location;\n    drop table dbo.CMS_Raw_Location;\nend\n\nif(object_id('dbo.CMS_Raw_Organization') is not null) begin\n    --truncate table dbo.CMS_Raw_Organization;\n    drop table dbo.CMS_Raw_Organization;\nend\n\nif(object_id('dbo.CMS_Raw_Owner') is not null) begin\n    --truncate table dbo.CMS_Raw_Owner;\n    drop table dbo.CMS_Raw_Owner;\nend\n\nif(object_id('dbo.CMS_Raw_SystemUser') is not null) begin\n    --truncate table dbo.CMS_Raw_SystemUser;\n    drop table dbo.CMS_Raw_SystemUser;\nend\n\nif(object_id('dbo.CMS_Raw_TestResultsContact') is not null) begin\n    --truncate table dbo.CMS_Raw_TestResultsContact;\n    drop table dbo.CMS_Raw_TestResultsContact;\nend\n\nif(object_id('dbo.CMS_Raw_TracerPhoneCall') is not null) begin\n    --truncate table dbo.CMS_Raw_TracerPhoneCall;\n    drop table dbo.CMS_Raw_TracerPhoneCall;\nend\n\nif(object_id('dbo.CMS_Raw_Workplace') is not null) begin\n    --truncate table dbo.CMS_Raw_Workplace;\n    drop table dbo.CMS_Raw_Workplace;\nend\n\n\n\n\nGO",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/CMS_Workplace_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.CMS_InitializeAndPopulate_Workplace_Table') is not null) begin\n    drop procedure dbo.CMS_InitializeAndPopulate_Workplace_Table;\nend\ngo\n\nCREATE PROCEDURE [dbo].[CMS_InitializeAndPopulate_Workplace_Table] AS\n\n\nif(object_id('dbo.Workplace') is not null) drop table dbo.Workplace\n\nCREATE TABLE [dbo].[Workplace]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect top 5\n\nId = cast(new_workplaceId as uniqueidentifier), \n\nAddressLine1 = cast(new_AddressLine1 as varchar(200)),\nAddressLine2 = cast(new_AddressLine2 as varchar(200)),\nCity = cast(new_townorcity as varchar(150)), \nCounty = cast(new_County as varchar(100)), \nCountry = cast(new_Country as varchar(100)), \nPostCode = cast(new_PostCode as varchar(20)), \n\nCollectCallId = cast(new_collectcalltoworkplaceId as varchar(100)),\nEmployerName = cast(new_EmployerName as nvarchar(200)), -- = kns_idx_firstname,\nEmployerContactNumber = cast(new_EmployerContactNumber as nvarchar(50)), -- = kns_idx_lastname,\nInformedEmployerOfResult = cast(new_Informedemployerofresult as varchar(200)), \nTypeOfWork = cast(new_Typeofwork as varchar(200)), \n\nCreatedOn = convert(datetime, left(createdon, 23), 121),\nModifiedOn = convert(datetime, left(modifiedon, 23), 121),\n\nIsWorkplace = cast(1 as int)\n\nfrom dbo.CMS_Raw_Workplace;\n\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_PVR_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.VMS_InitializeAndPopulate_PVR_Table') is not null) begin\n    drop procedure dbo.VMS_InitializeAndPopulate_PVR_Table;\nend\ngo\n\ncreate PROCEDURE [dbo].[VMS_InitializeAndPopulate_PVR_Table] AS\n\n\n/*\n\nRENAME OBJECT dbo.PVR TO dbo.PVR_Old;\nRENAME OBJECT dbo.PVR_New TO dbo.PVR;\n\nDROP TABLE dbo.PVR_Old;\nDROP TABLE dbo.PVR_New;\n\n*/\n\nif(object_id('dbo.PVR') is not null) drop table dbo.PVR\n\nCREATE TABLE [dbo].[PVR]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect\nId = cast(kns_patientvaccinationrecordId as uniqueidentifier),\nHCN = cast(kns_hcnumber as varchar(100)), -- kns_idx_HCN\nIndexMatchStatus = cast(kns_indexmatchstatus as varchar(50)),\nName = cast(kns_name as nvarchar(200)), -- = kns_name,\nFirstName = cast(kns_firstname as nvarchar(200)), -- = kns_idx_firstname,\nLastName = cast(kns_lastname as nvarchar(200)), -- = kns_idx_lastname,\nSex = cast(kns_sex as nvarchar(200)),\nAddressLine1 = cast(kns_addressline1 as varchar(200)),\nAddressLine2 = cast(kns_addressline2 as varchar(200)),\n\nDateOfBirth = convert(date, kns_Dateofbirth, 120),\nEmail = cast(kns_email as varchar(200)),\nEthnicBackground = cast(kns_ethnicbackground as varchar(200)),\nEthnicBackgroundOther = cast(kns_ethnicbackgroundother as varchar(200)),\nAllergies = cast(kns_allergies as varchar(200)),\nLocation = cast(kns_location as varchar(200)),\nMobileNumber = cast(kns_mobilenumber as varchar(20)),\nVaccineReactionAdvice = cast(kns_vaccinereactionadvice as varchar(2000)),\nSeriousAllergicReactionToAnyVaccine = cast(kns_seriousallergicreactiontoanyvaccine as varchar(200)),\nVaccineReactionConfirmation = cast(kns_vaccinereactionconfirmation as varchar(200)),\nSeriousReactionToAnyVaccine = cast(kns_seriousreactiontoanyvaccine as varchar(200)),\nMedicationReactionAdvice = cast(kns_medicationreactionadvice as varchar(200)),\nSignificantReactionToAnyMedicine = cast(kns_significantreactiontoanymedicine as varchar(200)),\nAppointment = convert(datetime, left(kns_appointment, 23), 121),\nMedicationReactionConfrimation = cast(kns_medicationreactionconfirmation as varchar(200)),\nAppointmentId = cast(kns_appointmentid as varchar(50)),\nCurrentBreastFeedingStatus = cast(kns_currentbreastfeedingstatus as varchar(200)),\nPregnancyStatus = cast(kns_pregnancystatus as varchar(200)),\nAreYouOrCouldYouBePregnantAdvice = cast(kns_areyouorcouldyoubepregnantadvice as varchar(200)),\nAreYouCouldYouBePregnantConfirm = cast(kns_areyouorcouldyoubepregnantconfirm as varchar(200)),\nTrialofPotentialVaccineConfrimation = cast(kns_trialofapotentialvaccineconfirmation as varchar(200)),\nTrialOfPotentialVaccine = cast(kns_trialofapotentialvaccine as varchar(200)),\nBatchNumber = cast(kns_batchnumber as varchar(200)),\nVaccinationStatus = cast(kns_vaccinationstatus as varchar(200)),\nClinic = cast(kns_clinic as varchar(200)),\nMandatoryVerbalConsentGiven = cast(cast(kns_mandatoryverbalconsentgiven as bit) as int),\nConsentGivenInPatientsBestInterest = cast(kns_consentgiveninpatientsbestinterest as varchar(200)),\nConsentGivenInResidentsBestInterest = cast(cast(kns_consentgiveninresidentsbestinterest as bit) as int),\nDateOfVaccination = convert(date, kns_dateofvaccination, 121), \nExpiryDate = convert(date, kns_expirydate, 121), \nGpAdvice = cast(cast(kns_gpadvice as bit) as int),\nGpMedicalAdviceReceived = cast(kns_gpmedicaladvicereceived as varchar(200)),\nVaccinesInLastSevenDays = cast(kns_vaccinesinlastsevendays as varchar(200)),\nHasThePatientGivenVerbalConsent = cast(kns_hasthepatientgivenverbalconsent as varchar(200)),\nSevereReactionToFood = cast(kns_severereactiontofood as varchar(200)),\nCovidPositiveInTheLast28Days = cast(kns_covidpositiveinthelast28days as varchar(200)),\nImmediateAdverseEventNoted = cast(kns_immediateadverseeventnoted as varchar(200)),\nImmediateAdverseEventNotedDetails = cast(kns_immediateadverseeventnoteddetails as varchar(200)),\nImportSequenceNumber = cast(importsequencenumber as int),\nJobType = cast(kns_jobtype as varchar(200)),\nJobTypeOther = cast(kns_jobtypeother as varchar(200)),\nNameOfVaccinator = cast(kns_nameofvaccinator as varchar(250)),\nNameOfVaccine = cast(kns_nameofvaccine as varchar(500)),\nOtherReasonToNotVaccinate = cast(kns_otherreasonnottovaccinate as varchar(2000)),\nPatient = cast(kns_patient as varchar(200)),\nPhoneNumber = cast(kns_phonenumber as varchar(20)),\nPostcode = cast(kns_postcode as varchar(20)),\nProceedToVaccinate = cast(cast(kns_proceedtovaccinate as bit) as int),\nReasonForVaccination = cast(kns_reasonforvaccination as varchar(200)),\nReasonIfProceedToVaccinateIsNo = cast(kns_reasonifproceedtovaccinateisno as varchar(200)),\nRequiredFieldsPlaceholder = cast(kns_requiredfieldsplaceholder as varchar(200)),\nSafetyQuestions = cast(kns_safetyquestions as varchar(2000)),\nScreeningCompleted = cast(kns_screeningcompleted as varchar(200)),\nSevereReactionToFoodConfirmation = cast(kns_severereactiontofoodconfirmation as varchar(200)),\nSevereReactionToFoodAdvice = cast(kns_severereactiontofoodadvice as varchar(200)),\nSiteOfVaccine = cast(kns_siteofvaccine as varchar(200)),\nSiteOfVaccineOther = cast(kns_siteofvaccineother as varchar(200)),\nSourceSystem = cast(kns_sourcesystem as varchar(200)),\nPatientIdentityVerified = cast(kns_patientidentityverified as varchar(200)),\nThePatientHasBeenVaccinated = cast(kns_thepatienthasbeenvaccinated as varchar(200)),\nTownCity = cast(kns_towncity as varchar(200)),\nTrust = cast(kns_trust as varchar(200)),\nTrustOther = cast(kns_trustother as varchar(200)),\nTrustStaffNumber = cast(kns_truststaffnumber as varchar(50)),\nUnableToBeVaccinated = cast(cast(kns_unabletobevaccinated as bit) as int),\nVaccine = cast(kns_vaccine as varchar(200)),\nVaccineDoseText = cast(kns_vaccinedosetext as varchar(200)),\nVaccineDose = cast(kns_vaccinedose as varchar(200)),\nWhoIsThisRecordFor = cast(kns_whoisthisrecordfor as varchar(200)),\n\nCreatedOn = convert(datetime, left(createdon, 23), 121),\nModifiedOn = convert(datetime, left(modifiedon, 23), 121),\nLastUpdatedBy = cast(ModifiedBy as varchar(50))\n\nfrom dbo.VMS_Raw_PatientVaccinationRecord;",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_Patient_Table_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.VMS_InitializeAndPopulate_Patient_Table') is not null) begin\n    drop procedure dbo.VMS_InitializeAndPopulate_Patient_Table;\nend\ngo\n\ncreate PROCEDURE [dbo].[VMS_InitializeAndPopulate_Patient_Table] AS\n\n\nif(object_id('dbo.Patient') is not null) drop table dbo.Patient\n\nCREATE TABLE [dbo].[Patient]\nWITH\n(\n DISTRIBUTION = hash(Id) --,CLUSTERED COLUMNSTORE INDEX\n)\nAS\nselect \nId = cast(contactid as uniqueidentifier), \nHCN = cast(kns_idx_HCN as varchar(100)),\nFirstName = cast(FirstName as nvarchar(200)), -- = kns_idx_firstname,\nLastName = cast(LastName as nvarchar(200)), -- = kns_idx_lastname,\nPostCode = cast(kns_idx_postcode as varchar(20)), \nTownCity = cast(kns_idx_towncity as varchar(200)), \nCounty = cast(kns_county as varchar(100)), \nSex = cast(kns_idx_sex as varchar(15)), \nGender = cast(kns_gender as varchar(15)),\nEthnicity = cast(kns_ethnicity as varchar(100)),\nEthnicBackground = cast(kns_ethnicbackground as varchar(500)),\nDateOfBirth = convert(date, kns_idx_dateofbirth, 121),\nPatientAddress1 = cast(kns_idx_patientaddress1 as varchar(200)),\nPatientAddress2 = cast(kns_idx_patientaddress2 as varchar(200)),\nPatientAddress3 = cast(kns_idx_patientaddress3 as varchar(200)),\nReadyToBeVaccinated = cast(kns_readytobevaccinated as varchar(15)),\nVaccinationStatus = cast(kns_vaccinationstatus as varchar(15)),\nJobType = cast(kns_jobtype as varchar(200)),\nJobTypeOther = cast(kns_jobtypeother as varchar(200)),\nEmergencyContactNextOfKin = cast(kns_emergencycontactnextofkin as varchar(200)),\nTrust = cast(kns_trust as varchar(200)),\nTrustOther = cast(kns_trustother as varchar(100)),\nTitle = cast(kns_idx_title as varchar(10)),\nPrimarySecondary = cast(kns_idx_primarysecondary as varchar(200)),\nPatientCountry = cast(kns_idx_patientcountry as varchar(200)),\nWhoIsThisRecordFor = cast(kns_whoisthisrecordfor as varchar(200)),\nTrustStaffNumber = cast(kns_truststaffnumber as varchar(100)),\nHealthStatus = cast(kns_healthstatus as varchar(500)),\nDateOfDeath = convert(date, kns_idx_dateofdeath, 121), \nWithinVaccineCriteria = cast(kns_withinvaccinecriteria as varchar(200)),\nAddressDate = convert(date, kns_idx_addressdate, 121),\nDoctorsName = cast(kns_doctorsname as nvarchar(250)),\nAllergies = cast(kns_allergies as nvarchar(2000)),\nDateOfFlueVaccine1Week = cast(cast(kns_dateoffluvaccine1week as bit) as int),\nChangesInMedicationHealthSinceFirstInject = cast(kns_changesinmedicationhealthsincefirstinject as nvarchar(2000)),\nGoneAwayFlag = cast(kns_idx_goneawayflag as varchar(15)),\nGpCode = cast(kns_idx_gpcode as varchar(50)),\nGpPracticeCode = cast(kns_idx_gppracticecode as varchar(50)),\nGpNameCode = cast(kns_gpnamecode as varchar(50)),\nGpAddress = cast(kns_gpaddress as varchar(200)),\nGpStartDate = convert(date, kns_idx_gpstartdate, 121),\nDoctorSeen = cast(cast(kns_doctorseen as bit) as int),\nDateOfVaccinationAppointment = convert(date, kns_dateofvaccinationappointment, 121),\nTimeOfVaccinationAppointment = cast(kns_timeofvaccinationappointment as varchar(50)),\nLocationOfVaccinationAppointment = cast(kns_locationofvaccinationappointment as varchar(200)),\nDateOfSecondVaccine = convert(Datetime, left(case when len(kns_dateofsecondvaccine) > 10 then kns_dateofsecondvaccine else null end, 23), 121),\nBatchId = cast(kns_idx_batchid as varchar(50)),\nNameOfVaccine = cast(kns_nameofvaccine as varchar(250)),\nBatchTime = convert(datetime, left(kns_idx_batchtime, 23), 121),\nVaccinateDose1 = cast(kns_vaccinedose1 as int),\nSiteOfVaccine = cast(kns_siteofvaccine as varchar(200)),\nVaccinateDose1DateTime = convert(datetime, left(kns_vaccinedose1datetime, 23), 121),\nVaccinatorsName = cast(kns_vaccinatorsname as varchar(500)),\nBatchNumberExpiryDate = convert(datetime, left(kns_batchnumberexpirydate, 23), 121),\nVaccineDose2 = cast(kns_vaccinedose2 as varchar(250)),\nSiteOfSecondVaccine = cast(kns_siteofsecondvaccine as varchar(250)),\nVaccineDose2DateTime = convert(Datetime, left(case when len(kns_vaccinedose2datetime) > 10 then kns_vaccinedose2datetime else null end, 23), 121),\nSecondVaccinatorsName = cast(kns_secondvaccinatorsname as varchar(250)),\nSecondInjectionBatchMumberExpiryDate = convert(Datetime, left(case when len(kns_secondinjectionbatchnumberexpirydate) > 10 then kns_secondinjectionbatchnumberexpirydate else null end, 23), 121),\nCreatedOn = convert(datetime, left(createdon, 23), 121),\nModifiedOn = convert(datetime, left(modifiedon, 23), 121),\nLastUpdatedBy = cast(ModifiedBy as varchar(50))\nfrom dbo.VMS_RAW_Contact;\n\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_RAW_CreateIndex_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.VMS_CreateIndex_Data_Raw_Tables') is not null) begin\n    drop procedure dbo.VMS_CreateIndex_Data_Raw_Tables;\nend\ngo\n\nCREATE PROCEDURE [dbo].[VMS_CreateIndex_Data_Raw_Tables] AS\n\nselect 1 as X\n\nGO",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_RAW_EmptyTables_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "create procedure dbo.VMS_EmptyRawTables\nas\n\nif(object_id('dbo.VMS_PatientVaccinationRecord') is not null) begin\n    truncate table dbo.VMS_PatientVaccinationRecord;\nend\n\nif(object_id('dbo.VMS_Contact') is not null) begin\n    truncate table dbo.VMS_Contact;\nend\n",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					}
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/VMS_RAW_InitializeData_Script')]",
			"type": "Microsoft.Synapse/workspaces/sqlscripts",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"content": {
					"query": "if(object_id('dbo.VMS_Initialize_Data_Raw_Tables') is not null) begin\n    drop procedure dbo.VMS_Initialize_Data_Raw_Tables;\nend\ngo\n\nCREATE PROCEDURE [dbo].[VMS_Initialize_Data_Raw_Tables] AS\n\nif(object_id('dbo.VMS_Raw_PatientVaccinationRecord') is not null) begin\n    --truncate table dbo.VMS_Raw_PatientVaccinationRecord;\n    drop table dbo.VMS_Raw_PatientVaccinationRecord;\nend\n\nif(object_id('dbo.VMS_Raw_Contact') is not null) begin\n    --truncate table dbo.VMS_Raw_Contact;\n    drop table dbo.VMS_Raw_Contact;\nend\n\nGO",
					"metadata": {
						"language": "sql"
					},
					"currentConnection": {
						"poolName": "exploredb",
						"databaseName": "exploredb"
					},
					"resultLimit": 5000
				},
				"type": "SqlQuery"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/Example Notebook 1')]",
			"type": "Microsoft.Synapse/workspaces/notebooks",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"nbformat": 4,
				"nbformat_minor": 2,
				"sessionProperties": {
					"driverMemory": "28g",
					"driverCores": 4,
					"executorMemory": "28g",
					"executorCores": 4,
					"numExecutors": 2,
					"conf": {
						"spark.dynamicAllocation.enabled": "false",
						"spark.dynamicAllocation.minExecutors": "2",
						"spark.dynamicAllocation.maxExecutors": "2"
					}
				},
				"metadata": {
					"saveOutput": true,
					"synapse_widget": {
						"version": "0.1"
					},
					"kernelspec": {
						"name": "synapse_pyspark",
						"display_name": "python"
					},
					"language_info": {
						"name": "python"
					}
				},
				"cells": [
					{
						"cell_type": "markdown",
						"metadata": {
							"nteract": {
								"transient": {
									"deleting": false
								}
							}
						},
						"source": [
							"Hello World"
						]
					},
					{
						"cell_type": "code",
						"metadata": {
							"jupyter": {
								"source_hidden": false,
								"outputs_hidden": false
							},
							"nteract": {
								"transient": {
									"deleting": false
								}
							},
							"collapsed": true
						},
						"source": [
							"print('Hello!')"
						],
						"outputs": [],
						"execution_count": null
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/exploredb')]",
			"type": "Microsoft.Synapse/workspaces/sqlPools",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"collation": "SQL_Latin1_General_CP1_CI_AS",
				"maxSizeBytes": 263882790666240,
				"restorePointInTime": "0001-01-01T00:00:00",
				"annotations": []
			},
			"dependsOn": [],
			"location": "uksouth"
		},
		{
			"name": "[concat(parameters('workspaceName'), '/reportingdb')]",
			"type": "Microsoft.Synapse/workspaces/sqlPools",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"collation": "SQL_Latin1_General_CP1_CI_AS",
				"maxSizeBytes": 263882790666240,
				"restorePointInTime": "0001-01-01T00:00:00",
				"annotations": []
			},
			"dependsOn": [],
			"location": "uksouth"
		},
		{
			"name": "[concat(parameters('workspaceName'), '/default')]",
			"type": "Microsoft.Synapse/workspaces/managedVirtualNetworks",
			"apiVersion": "2019-06-01-preview",
			"properties": {},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('workspaceName'), '/default/default_keyvault')]",
			"type": "Microsoft.Synapse/workspaces/managedVirtualNetworks/managedPrivateEndpoints",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"privateLinkResourceId": "/subscriptions/ab01fc24-8cd6-4870-9dfe-cd3a73ccd8ed/resourceGroups/belrsg_hscni_uat_phip_uks_main_01/providers/Microsoft.KeyVault/vaults/phipcouat",
				"groupId": "vault"
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/managedVirtualNetworks/default')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/default/phipcouat08-gen2store-pe')]",
			"type": "Microsoft.Synapse/workspaces/managedVirtualNetworks/managedPrivateEndpoints",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"privateLinkResourceId": "/subscriptions/ab01fc24-8cd6-4870-9dfe-cd3a73ccd8ed/resourceGroups/belrsg_hscni_uat_phip_uks_main_01/providers/Microsoft.Storage/storageAccounts/phipcouat",
				"groupId": "dfs"
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/managedVirtualNetworks/default')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/default/synapse-ws-sql--phipcouat08')]",
			"type": "Microsoft.Synapse/workspaces/managedVirtualNetworks/managedPrivateEndpoints",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"privateLinkResourceId": "/subscriptions/ab01fc24-8cd6-4870-9dfe-cd3a73ccd8ed/resourceGroups/belrsg_hscni_uat_phip_uks_main_01/providers/Microsoft.Synapse/workspaces/phipcouat08",
				"groupId": "sql",
				"fqdns": [
					"phipcouat08.195dd7e5-2156-4494-8fb0-7b61cd009d4b.sql.azuresynapse.net"
				]
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/managedVirtualNetworks/default')]"
			]
		},
		{
			"name": "[concat(parameters('workspaceName'), '/default/synapse-ws-sqlOnDemand--phipcouat08')]",
			"type": "Microsoft.Synapse/workspaces/managedVirtualNetworks/managedPrivateEndpoints",
			"apiVersion": "2019-06-01-preview",
			"properties": {
				"privateLinkResourceId": "/subscriptions/ab01fc24-8cd6-4870-9dfe-cd3a73ccd8ed/resourceGroups/belrsg_hscni_uat_phip_uks_main_01/providers/Microsoft.Synapse/workspaces/phipcouat08",
				"groupId": "sqlOnDemand",
				"fqdns": [
					"phipcouat08-ondemand.195dd7e5-2156-4494-8fb0-7b61cd009d4b.sql.azuresynapse.net"
				]
			},
			"dependsOn": [
				"[concat(variables('workspaceId'), '/managedVirtualNetworks/default')]"
			]
		}
	]
}